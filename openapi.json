{
  "openapi": "3.0.0",
  "info": {
    "title": "AutoService (أكفيك) API",
    "version": "1.0.0",
    "description": "\n# AutoService API Documentation\n\nComprehensive car services platform supporting 4 service models:\n1. **Direct Booking** (Fixed Services) - Car Wash, Polishing\n2. **E-Commerce** (Catalog Services) - Oil Change, Filter Replacement\n3. **Indrive/Broadcast** (Emergency Services) - Roadside Assistance\n4. **Ekfik Lifecycle** (Inspection Services) - Valet & Comprehensive Repair\n\n---\n\nمنصة شاملة لخدمات السيارات تدعم 4 نماذج خدمة:\n1. **الحجز المباشر** (خدمات ثابتة) - غسيل السيارة، التلميع\n2. **التجارة الإلكترونية** (خدمات الكتالوج) - تغيير الزيت، استبدال الفلاتر\n3. **البث المباشر** (خدمات الطوارئ) - المساعدة على الطريق\n4. **دورة الفحص** (خدمات الفحص) - الفحص الشامل والإصلاح\n\n---\n\n## Features / المميزات\n\n- ✅ Bilingual support (Arabic/English) - دعم اللغتين\n- ✅ Real-time updates via Socket.io - تحديثات فورية\n- ✅ Multiple payment gateways - بوابات دفع متعددة\n- ✅ Supply chain integration - تكامل سلسلة التوريد\n- ✅ Geolocation-based services - خدمات الموقع الجغرافي\n\n## Authentication / المصادقة\n\nAll protected endpoints require Bearer token in Authorization header:\n\n```\nAuthorization: Bearer <your_jwt_token>\n```\n\n---\n\n## Testing Guide / دليل الاختبار\n\n**لتجربة الحجز وشراء المنتجات على الموقع:**\n\n1. **تسجيل الدخول** – POST `/api/auth/login`\n   - Body: `{ \"identifier\": \"your@email.com\", \"password\": \"YourPassword\" }`\n   - انسخ `data.token` من الرد واستخدمه في Authorize (Bearer).\n\n2. **الحجز** – POST `/api/bookings`\n   - بعد النقر على Authorize وأدخل: `Bearer <token>`\n   - Body: `customerId`, `vehicleId`, `scheduledDate`, (اختياري: `workshopId`, `deliveryMethod`, `services`, `products`).\n\n3. **شراء منتجات (سلة)** – أضف للسلّة ثم إتمام الطلب:\n   - POST `/api/cart/items` – Body: `{ \"autoPartId\": \"<id>\", \"quantity\": 1 }`\n   - POST `/api/cart/checkout` – Body: `shippingAddress`, `paymentMethod` (حسب الـ API).\n\n4. **شراء منتجات (طلب مباشر)** – POST `/api/marketplace-orders`\n   - Body: `{ \"items\": [{ \"autoPartId\": \"<id>\", \"quantity\": 1 }], \"shippingAddress\": { ... } }`\n\n5. **عرض طلباتي** – GET `/api/marketplace-orders/my-orders` أو GET `/api/bookings/my`\n\n**للاختبار من Swagger UI:** شغّل الباكند ثم افتح `http://localhost:3000/api-docs`، انقر Authorize وأدخل التوكن ثم جرّب النداءات أعلاه.\n\n---\n\n## Auto Parts → Order Flow / من عرض قطع الغيار لحد الطلب\n\n**الترتيب الكامل للـ endpoints:**\n\n| # | Method | Endpoint | الوصف |\n|---|--------|----------|--------|\n| 1 | GET | `/api/auto-part-categories` | فئات قطع الغيار |\n| 2 | GET | `/api/auto-parts` | قائمة القطع (query: page, limit, search, categoryId, vendorId) |\n| 3 | GET | `/api/auto-parts/{id}` | تفاصيل قطعة واحدة |\n| 4 | POST | `/api/auth/login` | تسجيل دخول → استخدم `data.token` في Authorize |\n| 5a | POST | `/api/cart/items` | إضافة للسلة `{ \"autoPartId\", \"quantity\" }` |\n| 5b | GET | `/api/cart` | عرض السلة |\n| 5c | POST | `/api/cart/checkout` | إنشاء الطلب من السلة `{ \"shippingAddress\", \"paymentMethod\" }` |\n| **أو** | POST | `/api/marketplace-orders` | طلب مباشر `{ \"items\": [{ \"autoPartId\", \"quantity\" }], \"shippingAddress\" }` |\n| 6 | GET | `/api/marketplace-orders/my-orders` | طلباتي |\n| 7 | GET | `/api/marketplace-orders/{id}` | تفاصيل طلب |\n\nملف تفصيلي: `docs/ENDPOINTS_AUTO_PARTS_TO_ORDER.md`\n\n---\n\n## Certified Workshops Flow / فلوه الورش المعتمدة للتيست\n\n**من الدخول → عرض الورش → الحجز → حجوزاتي:**\n\n| # | Method | Endpoint | الوصف |\n|---|--------|----------|--------|\n| 1 | POST | `/api/auth/login` | تسجيل دخول → استخدم `data.token` في Authorize |\n| 2 | GET | `/api/vehicles` | مركباتي (لاختيار `vehicleId`) |\n| 3 | GET | `/api/services` | الخدمات (لاختيار `serviceIds`) |\n| 4 | GET | `/api/workshops` | قائمة الورش (query: city, search, isActive, isVerified) |\n| 5 | GET | `/api/workshops/{id}` | تفاصيل ورشة |\n| 6 | POST | `/api/bookings` | إنشاء حجز: `vehicleId`, `scheduledDate`, `scheduledTime`, `serviceIds`, `workshopId`, `deliveryMethod` (SELF_DELIVERY أو FLATBED) |\n| 7 | GET | `/api/bookings/my` | حجوزاتي |\n| 8 | GET | `/api/bookings/{id}` | تفاصيل حجز |\n| + | GET | `/api/workshops/{id}/reviews` | تقييمات الورشة |\n| + | POST | `/api/workshops/{id}/reviews` | إضافة تقييم |\n\n**فيندور الورشة:** GET `/api/workshops/profile/me`, GET `/api/workshops/profile/me/bookings`\n\nملف تفصيلي: `docs/ENDPOINTS_WORKSHOPS_FLOW.md`\n\n---\n\n## Services → Booking Flow / اختبار الخدمات والحجز (Postman)\n\n**ترتيب الاختبار:** تسجيل الدخول → عرض الخدمات → مركباتي (أو إضافة مركبة) → إنشاء حجز → حجوزاتي.\n\n| # | Method | Endpoint | الوصف |\n|---|--------|----------|--------|\n| 1 | POST | `/api/auth/login` | Body: `{ \"identifier\": \"email\", \"password\" }` → انسخ `data.token`، استخدمه في Authorization: Bearer |\n| 2 | GET | `/api/services` | قائمة الخدمات (query: category, type, search) → خذ `id` لخدمة أو أكثر |\n| 3 | GET | `/api/services/{id}` | تفاصيل خدمة |\n| 4 | GET | `/api/services/{id}/available-slots?date=YYYY-MM-DD` | أوقات متاحة (اختياري) |\n| 5 | GET | `/api/vehicles` | مركباتي → خذ `vehicleId`؛ لو فاضي: POST `/api/vehicles` (body: vehicleModelId, plateNumber؛ الموديل من /vehicles/brands و /vehicles/brands/{id}/models) |\n| 6 | POST | `/api/bookings` | إنشاء حجز: `vehicleId`, `scheduledDate` (YYYY-MM-DD), `serviceIds` (مصفوفة IDs)، اختياري: `scheduledTime`, `workshopId`, `deliveryMethod`, `notes` |\n| 7 | GET | `/api/bookings/my` | حجوزاتي (query: page, limit, status) |\n| 8 | GET | `/api/bookings/{id}` | تفاصيل حجز |\n\nملف تفصيلي: `docs/ENDPOINTS_SERVICES_BOOKING_POSTMAN.md`\n      ",
    "contact": {
      "name": "AutoService API Support",
      "email": "support@autoservice.com",
      "url": "https://autoservice.com/support"
    },
    "license": {
      "name": "MIT",
      "url": "https://opensource.org/licenses/MIT"
    }
  },
  "servers": [
    {
      "url": "http://localhost:3000",
      "description": "Development Server - بيئة التطوير"
    },
    {
      "url": "https://akfeek-backend.developteam.site",
      "description": "Production Server - بيئة الإنتاج"
    }
  ],
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "description": "JWT Authorization header using Bearer scheme - رمز التفويض باستخدام JWT"
      }
    },
    "schemas": {
      "Error": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": false
          },
          "error": {
            "type": "string",
            "example": "Error message"
          },
          "errorAr": {
            "type": "string",
            "example": "رسالة الخطأ"
          },
          "code": {
            "type": "string",
            "example": "VALIDATION_ERROR"
          },
          "details": {
            "type": "object",
            "additionalProperties": true
          }
        }
      },
      "Success": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "message": {
            "type": "string",
            "example": "Operation successful"
          },
          "messageAr": {
            "type": "string",
            "example": "تمت العملية بنجاح"
          }
        }
      },
      "Pagination": {
        "type": "object",
        "properties": {
          "page": {
            "type": "integer",
            "example": 1,
            "description": "Current page number"
          },
          "limit": {
            "type": "integer",
            "example": 10,
            "description": "Items per page"
          },
          "total": {
            "type": "integer",
            "example": 100,
            "description": "Total number of items"
          },
          "totalPages": {
            "type": "integer",
            "example": 10,
            "description": "Total number of pages"
          }
        }
      },
      "Address": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Address ID"
          },
          "userId": {
            "type": "string",
            "format": "uuid",
            "description": "User ID"
          },
          "label": {
            "type": "string",
            "description": "Address label (e.g., Home, Work)",
            "example": "Home"
          },
          "labelAr": {
            "type": "string",
            "nullable": true,
            "description": "Arabic label",
            "example": "المنزل"
          },
          "street": {
            "type": "string",
            "description": "Street address",
            "example": "King Fahd Road"
          },
          "streetAr": {
            "type": "string",
            "nullable": true,
            "description": "Arabic street name",
            "example": "طريق الملك فهد"
          },
          "city": {
            "type": "string",
            "description": "City",
            "example": "Riyadh"
          },
          "cityAr": {
            "type": "string",
            "nullable": true,
            "description": "Arabic city name",
            "example": "الرياض"
          },
          "state": {
            "type": "string",
            "nullable": true,
            "description": "State/Province"
          },
          "stateAr": {
            "type": "string",
            "nullable": true,
            "description": "Arabic state name"
          },
          "postalCode": {
            "type": "string",
            "nullable": true,
            "description": "Postal code",
            "example": "12345"
          },
          "country": {
            "type": "string",
            "description": "Country code",
            "example": "SA",
            "default": "SA"
          },
          "latitude": {
            "type": "number",
            "format": "double",
            "description": "GPS latitude",
            "example": 24.7136
          },
          "longitude": {
            "type": "number",
            "format": "double",
            "description": "GPS longitude",
            "example": 46.6753
          },
          "isDefault": {
            "type": "boolean",
            "description": "Is this the default address?",
            "example": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Creation timestamp"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Last update timestamp"
          }
        }
      },
      "AddressInput": {
        "type": "object",
        "required": [
          "label",
          "street",
          "city",
          "latitude",
          "longitude"
        ],
        "properties": {
          "label": {
            "type": "string",
            "description": "Address label (e.g., Home, Work)",
            "example": "Home"
          },
          "labelAr": {
            "type": "string",
            "description": "Arabic label",
            "example": "المنزل"
          },
          "street": {
            "type": "string",
            "description": "Street address",
            "example": "King Fahd Road"
          },
          "streetAr": {
            "type": "string",
            "description": "Arabic street name",
            "example": "طريق الملك فهد"
          },
          "city": {
            "type": "string",
            "description": "City",
            "example": "Riyadh"
          },
          "cityAr": {
            "type": "string",
            "description": "Arabic city name",
            "example": "الرياض"
          },
          "state": {
            "type": "string",
            "description": "State/Province"
          },
          "stateAr": {
            "type": "string",
            "description": "Arabic state name"
          },
          "postalCode": {
            "type": "string",
            "description": "Postal code",
            "example": "12345"
          },
          "country": {
            "type": "string",
            "description": "Country code",
            "example": "SA",
            "default": "SA"
          },
          "latitude": {
            "type": "number",
            "format": "double",
            "description": "GPS latitude",
            "example": 24.7136
          },
          "longitude": {
            "type": "number",
            "format": "double",
            "description": "GPS longitude",
            "example": 46.6753
          },
          "isDefault": {
            "type": "boolean",
            "description": "Set as default address?",
            "example": false
          }
        }
      },
      "Feedback": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "COMPLAINT",
              "SUGGESTION"
            ]
          },
          "category": {
            "type": "string",
            "enum": [
              "DELIVERY",
              "PAYMENT",
              "PRODUCT",
              "UI_UX",
              "OTHER"
            ]
          },
          "subject": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "isAnonymous": {
            "type": "boolean"
          }
        }
      },
      "VendorProfile": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "userId": {
            "type": "string",
            "format": "uuid"
          },
          "businessName": {
            "type": "string"
          },
          "businessNameAr": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "descriptionAr": {
            "type": "string"
          },
          "status": {
            "type": "string",
            "enum": [
              "PENDING_APPROVAL",
              "ACTIVE",
              "SUSPENDED",
              "REJECTED"
            ]
          },
          "isActive": {
            "type": "boolean"
          },
          "logo": {
            "type": "string"
          },
          "contactEmail": {
            "type": "string"
          },
          "contactPhone": {
            "type": "string"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "AutoPartCategory": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string"
          },
          "nameAr": {
            "type": "string"
          },
          "slug": {
            "type": "string"
          },
          "parentId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "icon": {
            "type": "string"
          },
          "isActive": {
            "type": "boolean"
          }
        }
      },
      "AutoPart": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string"
          },
          "nameAr": {
            "type": "string"
          },
          "sku": {
            "type": "string"
          },
          "brand": {
            "type": "string"
          },
          "categoryId": {
            "type": "string",
            "format": "uuid"
          },
          "vendorId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "price": {
            "type": "number"
          },
          "stockQuantity": {
            "type": "integer"
          },
          "isApproved": {
            "type": "boolean"
          },
          "isActive": {
            "type": "boolean"
          },
          "images": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AutoPartImage"
            }
          }
        }
      },
      "AutoPartImage": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "url": {
            "type": "string"
          },
          "isPrimary": {
            "type": "boolean"
          }
        }
      },
      "AutoPartCompatibility": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "autoPartId": {
            "type": "string",
            "format": "uuid"
          },
          "vehicleModelId": {
            "type": "string",
            "format": "uuid"
          },
          "yearRange": {
            "type": "string"
          }
        }
      }
    },
    "parameters": {
      "LanguageHeader": {
        "name": "Accept-Language",
        "in": "header",
        "description": "Preferred language (ar or en) - اللغة المفضلة",
        "schema": {
          "type": "string",
          "enum": [
            "ar",
            "en"
          ],
          "default": "ar"
        }
      },
      "PageParam": {
        "name": "page",
        "in": "query",
        "description": "Page number - رقم الصفحة",
        "schema": {
          "type": "integer",
          "minimum": 1,
          "default": 1
        }
      },
      "LimitParam": {
        "name": "limit",
        "in": "query",
        "description": "Items per page - عدد العناصر في الصفحة",
        "schema": {
          "type": "integer",
          "minimum": 1,
          "maximum": 100,
          "default": 10
        }
      }
    },
    "responses": {
      "UnauthorizedError": {
        "description": "Authentication required - مطلوب مصادقة",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/Error"
            },
            "example": {
              "success": false,
              "error": "Authentication required",
              "errorAr": "مطلوب مصادقة",
              "code": "UNAUTHORIZED"
            }
          }
        }
      },
      "ForbiddenError": {
        "description": "Access denied - تم رفض الوصول",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/Error"
            },
            "example": {
              "success": false,
              "error": "Access denied",
              "errorAr": "تم رفض الوصول",
              "code": "FORBIDDEN"
            }
          }
        }
      },
      "NotFoundError": {
        "description": "Resource not found - المورد غير موجود",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/Error"
            },
            "example": {
              "success": false,
              "error": "Resource not found",
              "errorAr": "المورد غير موجود",
              "code": "NOT_FOUND"
            }
          }
        }
      },
      "ValidationError": {
        "description": "Validation error - خطأ في التحقق",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/Error"
            },
            "example": {
              "success": false,
              "error": "Validation failed",
              "errorAr": "فشل التحقق",
              "code": "VALIDATION_ERROR",
              "details": {
                "email": "Invalid email format",
                "password": "Password must be at least 8 characters"
              }
            }
          }
        }
      }
    }
  },
  "security": [
    {
      "bearerAuth": []
    }
  ],
  "tags": [
    {
      "name": "Authentication",
      "description": "User authentication endpoints - نقاط المصادقة",
      "externalDocs": {
        "description": "Authentication Guide",
        "url": "https://docs.autoservice.com/authentication"
      }
    },
    {
      "name": "Vehicle Brands",
      "description": "Vehicle brand management (Toyota, BMW, etc.) - إدارة ماركات المركبات"
    },
    {
      "name": "Vehicle Models",
      "description": "Vehicle model management (Camry, X5, etc.) - إدارة موديلات المركبات"
    },
    {
      "name": "Users",
      "description": "User profile management - إدارة الملف الشخصي"
    },
    {
      "name": "Vehicles",
      "description": "Vehicle management - إدارة المركبات"
    },
    {
      "name": "Services",
      "description": "Service catalog - كتالوج الخدمات"
    },
    {
      "name": "Bookings",
      "description": "Booking management (All 4 models) - إدارة الحجوزات"
    },
    {
      "name": "Broadcasts",
      "description": "Emergency job broadcasts (Indrive model) - بث وظائف الطوارئ"
    },
    {
      "name": "Inspections",
      "description": "Vehicle inspections (Ekfik model) - فحص المركبات"
    },
    {
      "name": "Supply Requests",
      "description": "Spare parts supply chain - سلسلة توريد قطع الغيار"
    },
    {
      "name": "Invoices",
      "description": "Invoice management - إدارة الفواتير"
    },
    {
      "name": "Payments",
      "description": "Payment processing - معالجة الدفع"
    },
    {
      "name": "Wallets",
      "description": "Wallet & transactions - المحفظة والمعاملات"
    },
    {
      "name": "Ratings",
      "description": "Reviews & ratings - التقييمات والمراجعات"
    },
    {
      "name": "Notifications",
      "description": "Push notifications - الإشعارات"
    },
    {
      "name": "Addresses",
      "description": "Address management - إدارة العناوين"
    },
    {
      "name": "Towing Service",
      "description": "Emergency towing service - خدمة السحب الطارئة"
    },
    {
      "name": "Technician Towing",
      "description": "Technician towing endpoints - نقاط خدمة السحب للفنيين"
    },
    {
      "name": "Technician Car Wash",
      "description": "Car Wash technician endpoints for viewing requests and offering services - نقاط خدمة غسيل السيارات للفنيين"
    },
    {
      "name": "Admin Settings",
      "description": "System settings management for administrators - إدارة إعدادات النظام للمسؤولين"
    },
    {
      "name": "Marketplace Vendors",
      "description": "Vendor management for auto parts - إدارة البائعين لقطع الغيار"
    },
    {
      "name": "Auto Part Categories",
      "description": "Auto part category management - إدارة فئات قطع الغيار"
    },
    {
      "name": "Auto Parts",
      "description": "Auto parts catalog management - إدارة كتالوج قطع الغيار"
    },
    {
      "name": "Cart",
      "description": "Customer cart and checkout - سلة المشتريات وإتمام الطلب"
    },
    {
      "name": "Marketplace Orders",
      "description": "Orders from marketplace (customer, vendor, admin) - طلبات المتجر"
    },
    {
      "name": "Admin Activity Logs",
      "description": "System activity and audit logs for administrators - سجلات نشاط النظام للمسؤولين"
    },
    {
      "name": "Admin Dashboard",
      "description": "High-level system statistics and overview - نظرة عامة وإحصائيات النظام"
    },
    {
      "name": "Feedback",
      "description": "Customer Complaints and Suggestions management (نظام الشكاوى والمقترحات)"
    },
    {
      "name": "Mobile Car Service",
      "description": "Mobile Car Service (Maintanence/Oil Change) - خدمات الموبايل سيرفس"
    },
    {
      "name": "Technical Support Request",
      "description": "طلب دعم فني - تقديم طلب وعرضه، أدمن يعين الفني"
    },
    {
      "name": "Tracking",
      "description": "Real-time location tracking endpoints - نقاط تتبع الموقع اللحظي"
    },
    {
      "name": "Admin Feedback",
      "description": "Administrative operations for Managing complaints and suggestions"
    },
    {
      "name": "Vendor Onboarding",
      "description": "Vendor registration and approval workflow"
    }
  ],
  "paths": {
    "/api/activity": {
      "get": {
        "summary": "Get all activity logs (Admin)",
        "tags": [
          "Admin Activity Logs"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 20
            }
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of activity logs"
          }
        }
      },
      "post": {
        "summary": "Create manual activity log (Admin)",
        "tags": [
          "Admin Activity Logs"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "action",
                  "description"
                ],
                "properties": {
                  "action": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "metadata": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Log created"
          }
        }
      }
    },
    "/api/addresses": {
      "get": {
        "summary": "Get user addresses - جلب عناوين المستخدم",
        "tags": [
          "Addresses"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of user addresses",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "items": {
                    "$ref": "#/components/schemas/Address"
                  },
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Address"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          }
        },
        "description": "Retrieve all addresses for the authenticated user"
      },
      "post": {
        "summary": "Create address - إضافة عنوان جديد",
        "tags": [
          "Addresses"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddressInput"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Address created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Address",
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "messageAr": {
                      "type": "string"
                    },
                    "data": {
                      "$ref": "#/components/schemas/Address"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error - Missing required fields"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "description": "Create a new address for the authenticated user"
      }
    },
    "/api/addresses/{id}": {
      "get": {
        "summary": "Get address by ID - جلب عنوان بالمعرف",
        "tags": [
          "Addresses"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Address ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Address details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Address",
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "$ref": "#/components/schemas/Address"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Address not found"
          }
        },
        "description": "Retrieve a specific address by ID (must belong to authenticated user)"
      },
      "put": {
        "summary": "Update address - تعديل عنوان",
        "tags": [
          "Addresses"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Address ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddressInput"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Address updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "messageAr": {
                      "type": "string"
                    },
                    "data": {
                      "$ref": "#/components/schemas/Address"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Address not found"
          }
        },
        "description": "Update an existing address (must belong to authenticated user)"
      },
      "delete": {
        "summary": "Delete address - حذف عنوان",
        "tags": [
          "Addresses"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Address ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Address deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "messageAr": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Address not found"
          }
        },
        "description": "Delete an address (must belong to authenticated user)"
      }
    },
    "/api/auth/register": {
      "post": {
        "summary": "Register new user",
        "description": "Create a new user account (Customer, Technician, or Supplier)\n\nإنشاء حساب مستخدم جديد (عميل، فني، أو مورد)\n",
        "tags": [
          "Authentication"
        ],
        "security": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email",
                  "password",
                  "role",
                  "firstName",
                  "lastName"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "ahmed@example.com",
                    "description": "User email - البريد الإلكتروني"
                  },
                  "phone": {
                    "type": "string",
                    "example": "+966501234567",
                    "description": "Phone number with country code - رقم الهاتف مع رمز الدولة"
                  },
                  "password": {
                    "type": "string",
                    "format": "password",
                    "minLength": 8,
                    "example": "StrongPass123!",
                    "description": "Password (min 8 chars) - كلمة المرور (8 أحرف على الأقل)"
                  },
                  "role": {
                    "type": "string",
                    "enum": [
                      "CUSTOMER",
                      "TECHNICIAN",
                      "SUPPLIER"
                    ],
                    "example": "CUSTOMER",
                    "description": "User role - دور المستخدم"
                  },
                  "firstName": {
                    "type": "string",
                    "example": "Ahmed",
                    "description": "First name - الاسم الأول"
                  },
                  "lastName": {
                    "type": "string",
                    "example": "Al-Mutairi",
                    "description": "Last name - اسم العائلة"
                  },
                  "preferredLanguage": {
                    "type": "string",
                    "enum": [
                      "AR",
                      "EN"
                    ],
                    "default": "AR",
                    "example": "AR",
                    "description": "Preferred language - اللغة المفضلة"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "User registered successfully - تم التسجيل بنجاح",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Registration successful"
                    },
                    "messageAr": {
                      "type": "string",
                      "example": "تم التسجيل بنجاح"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "user": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "email": {
                              "type": "string"
                            },
                            "role": {
                              "type": "string"
                            },
                            "profile": {
                              "type": "object"
                            }
                          }
                        },
                        "token": {
                          "type": "string",
                          "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/ValidationError"
          },
          "409": {
            "description": "Email or phone already exists - البريد الإلكتروني أو الهاتف موجود بالفعل",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/login": {
      "post": {
        "summary": "User login",
        "description": "Authenticate user with email/phone and password, return JWT token\n\nمصادقة المستخدم بالبريد الإلكتروني/الهاتف وكلمة المرور، وإرجاع رمز JWT\n",
        "tags": [
          "Authentication"
        ],
        "security": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "identifier",
                  "password"
                ],
                "properties": {
                  "identifier": {
                    "type": "string",
                    "example": "ahmed@example.com",
                    "description": "Email or phone number - البريد الإلكتروني أو رقم الهاتف"
                  },
                  "password": {
                    "type": "string",
                    "format": "password",
                    "example": "StrongPass123!"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Login successful - تم تسجيل الدخول بنجاح",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "user": {
                          "type": "object"
                        },
                        "token": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Invalid credentials - بيانات اعتماد غير صحيحة",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/send-otp": {
      "post": {
        "summary": "Send OTP to phone",
        "description": "Send OTP code to user's phone number for verification\n\nإرسال رمز OTP إلى رقم هاتف المستخدم للتحقق\n",
        "tags": [
          "Authentication"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "phone"
                ],
                "properties": {
                  "phone": {
                    "type": "string",
                    "example": "+966501234567"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OTP sent successfully - تم إرسال OTP بنجاح",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Success"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/verify-otp": {
      "post": {
        "summary": "Verify OTP",
        "description": "Verify phone number with OTP code\n\nالتحقق من رقم الهاتف برمز OTP\n",
        "tags": [
          "Authentication"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "phone",
                  "code"
                ],
                "properties": {
                  "phone": {
                    "type": "string",
                    "example": "+966501234567"
                  },
                  "code": {
                    "type": "string",
                    "example": "123456"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OTP verified - تم التحقق من OTP",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Success"
                }
              }
            }
          },
          "400": {
            "description": "Invalid OTP - رمز OTP غير صحيح"
          }
        }
      }
    },
    "/api/auth/me": {
      "get": {
        "summary": "Get current user",
        "description": "Get authenticated user's profile information\n\nالحصول على معلومات ملف المستخدم المصادق عليه\n",
        "tags": [
          "Authentication"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "User profile retrieved - تم استرجاع ملف المستخدم",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/auto-part-categories": {
      "get": {
        "summary": "Get all categories",
        "tags": [
          "Auto Part Categories"
        ],
        "responses": {
          "200": {
            "description": "List of categories",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/AutoPartCategory"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create new category (Admin only)",
        "tags": [
          "Auto Part Categories"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name"
                ],
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "nameAr": {
                    "type": "string"
                  },
                  "parentId": {
                    "type": "string"
                  },
                  "icon": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Category created"
          }
        }
      }
    },
    "/api/auto-part-categories/tree": {
      "get": {
        "summary": "Get category tree hierarchy",
        "tags": [
          "Auto Part Categories"
        ],
        "responses": {
          "200": {
            "description": "Category hierarchical tree",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "allOf": [
                          {
                            "$ref": "#/components/schemas/AutoPartCategory"
                          },
                          {
                            "type": "object",
                            "properties": {
                              "children": {
                                "type": "array",
                                "items": {
                                  "$ref": "#/components/schemas/AutoPartCategory"
                                }
                              }
                            }
                          }
                        ]
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/auto-part-categories/{id}": {
      "get": {
        "summary": "Get category by ID",
        "tags": [
          "Auto Part Categories"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Category details"
          }
        }
      },
      "put": {
        "summary": "Update category (Admin only)",
        "tags": [
          "Auto Part Categories"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "nameAr": {
                    "type": "string"
                  },
                  "icon": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Category updated"
          }
        }
      },
      "delete": {
        "summary": "Delete category (Admin only)",
        "tags": [
          "Auto Part Categories"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Category deleted"
          }
        }
      }
    },
    "/api/auto-parts": {
      "get": {
        "summary": "Get all auto parts with filters",
        "tags": [
          "Auto Parts"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "categoryId",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "vendorId",
            "schema": {
              "type": "string"
            }
          },
          {
            "$ref": "#/components/parameters/PageParam"
          },
          {
            "$ref": "#/components/parameters/LimitParam"
          }
        ],
        "responses": {
          "200": {
            "description": "List of auto parts",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/AutoPart"
                      }
                    },
                    "pagination": {
                      "$ref": "#/components/schemas/Pagination"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create new auto part",
        "tags": [
          "Auto Parts"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "sku",
                  "price",
                  "categoryId"
                ],
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "sku": {
                    "type": "string"
                  },
                  "price": {
                    "type": "number"
                  },
                  "stockQuantity": {
                    "type": "integer"
                  },
                  "categoryId": {
                    "type": "string"
                  },
                  "vendorId": {
                    "type": "string",
                    "description": "Only Admin can set this manually"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Part created"
          }
        }
      }
    },
    "/api/auto-parts/vendor/{vendorId}": {
      "get": {
        "summary": "Get parts by vendor",
        "tags": [
          "Auto Parts"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "vendorId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of vendor parts"
          }
        }
      }
    },
    "/api/auto-parts/vehicle/{vehicleModelId}": {
      "get": {
        "summary": "Get parts compatible with vehicle",
        "tags": [
          "Auto Parts"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "vehicleModelId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of compatible parts"
          }
        }
      }
    },
    "/api/auto-parts/{id}": {
      "get": {
        "summary": "Get part details",
        "tags": [
          "Auto Parts"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Part details",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "$ref": "#/components/schemas/AutoPart"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update auto part",
        "tags": [
          "Auto Parts"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "price": {
                    "type": "number"
                  },
                  "stockQuantity": {
                    "type": "integer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Part updated"
          }
        }
      },
      "delete": {
        "summary": "Delete part",
        "tags": [
          "Auto Parts"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Part deleted"
          }
        }
      }
    },
    "/api/auto-parts/upload-image": {
      "post": {
        "summary": "Upload image file(s) for auto parts",
        "description": "Upload up to 10 image files. Returns an array of uploaded image URLs.",
        "tags": [
          "Auto Parts"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "files": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "binary"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Images uploaded successfully"
          }
        }
      }
    },
    "/api/auto-parts/{id}/approve": {
      "put": {
        "summary": "Approve or reject part (Admin only)",
        "tags": [
          "Auto Parts"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "isApproved"
                ],
                "properties": {
                  "isApproved": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Approval status updated"
          }
        }
      }
    },
    "/api/auto-parts/{id}/images": {
      "post": {
        "summary": "Add images to part",
        "tags": [
          "Auto Parts"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "images"
                ],
                "properties": {
                  "images": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Images added"
          }
        }
      }
    },
    "/api/auto-parts/{id}/images/{imageId}": {
      "delete": {
        "summary": "Remove an image from part",
        "tags": [
          "Auto Parts"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "imageId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Image removed"
          }
        }
      }
    },
    "/api/auto-parts/{id}/images/{imageId}/primary": {
      "patch": {
        "summary": "Set image as primary for part",
        "tags": [
          "Auto Parts"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "imageId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Primary image updated"
          }
        }
      }
    },
    "/api/auto-parts/{id}/stock": {
      "put": {
        "summary": "Update part stock quantity",
        "tags": [
          "Auto Parts"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "stockQuantity"
                ],
                "properties": {
                  "stockQuantity": {
                    "type": "integer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Stock updated"
          }
        }
      }
    },
    "/api/bookings": {
      "get": {
        "summary": "List all bookings (Admin)",
        "description": "Retrieve a paginated list of all bookings in the system.",
        "tags": [
          "Bookings"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "Page number"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "Items per page"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string"
            },
            "description": "Filter by status"
          }
        ],
        "responses": {
          "200": {
            "description": "List of bookings"
          }
        }
      },
      "post": {
        "summary": "Create new booking",
        "description": "Create a new booking with optional workshop and delivery method",
        "tags": [
          "Bookings"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "vehicleId",
                  "scheduledDate"
                ],
                "properties": {
                  "customerId": {
                    "type": "string"
                  },
                  "vehicleId": {
                    "type": "string"
                  },
                  "scheduledDate": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "scheduledTime": {
                    "type": "string",
                    "example": "10:00"
                  },
                  "workshopId": {
                    "type": "string",
                    "description": "ID of certified workshop (optional)"
                  },
                  "deliveryMethod": {
                    "type": "string",
                    "enum": [
                      "FLATBED",
                      "SELF_DELIVERY"
                    ],
                    "description": "Required if workshopId is provided"
                  },
                  "serviceIds": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "productIds": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "notes": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Booking created successfully"
          },
          "400": {
            "description": "Invalid input or workshop not available"
          },
          "404": {
            "description": "Workshop not found"
          }
        }
      }
    },
    "/api/bookings/my": {
      "get": {
        "summary": "Get my bookings",
        "description": "Retrieve bookings for the authenticated customer.",
        "tags": [
          "Bookings"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            }
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of user bookings"
          }
        }
      }
    },
    "/api/bookings/{id}": {
      "get": {
        "summary": "Get booking by ID",
        "description": "Retrieve details of a specific booking.",
        "tags": [
          "Bookings"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Booking details"
          },
          "404": {
            "description": "Booking not found"
          }
        }
      }
    },
    "/api/bookings/{bookingId}/track": {
      "get": {
        "summary": "Track technician location",
        "description": "Customer tracks technician's real-time location",
        "tags": [
          "Tracking"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "bookingId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Tracking information",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "booking": {
                          "type": "object"
                        },
                        "technician": {
                          "type": "object",
                          "properties": {
                            "currentLocation": {
                              "type": "object",
                              "properties": {
                                "latitude": {
                                  "type": "number"
                                },
                                "longitude": {
                                  "type": "number"
                                },
                                "heading": {
                                  "type": "number"
                                },
                                "speed": {
                                  "type": "number"
                                }
                              }
                            }
                          }
                        },
                        "eta": {
                          "type": "object",
                          "properties": {
                            "distanceKm": {
                              "type": "number"
                            },
                            "durationMinutes": {
                              "type": "number"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/bookings/{bookingId}/location-history": {
      "get": {
        "summary": "Get location history",
        "description": "Retrieve technician's route history for completed job",
        "tags": [
          "Tracking"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "bookingId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "in": "query",
            "name": "startTime",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "in": "query",
            "name": "endTime",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 100
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Location history points"
          }
        }
      }
    },
    "/api/brands": {
      "get": {
        "summary": "Get all vehicle brands",
        "description": "Retrieve a list of all vehicle brands (Toyota, BMW, etc.) with optional filters - احصل على قائمة بجميع ماركات المركبات",
        "tags": [
          "Vehicle Brands"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "includeModels",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "Include models for each brand - تضمين موديلات كل ماركة"
          },
          {
            "in": "query",
            "name": "activeOnly",
            "schema": {
              "type": "boolean",
              "default": true
            },
            "description": "Only return active brands - عرض الماركات النشطة فقط"
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved brands - تم جلب الماركات بنجاح",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string",
                            "example": "uuid-here"
                          },
                          "name": {
                            "type": "string",
                            "example": "Toyota"
                          },
                          "nameAr": {
                            "type": "string",
                            "example": "تويوتا"
                          },
                          "logo": {
                            "type": "string",
                            "nullable": true,
                            "example": "https://example.com/toyota-logo.png"
                          },
                          "isActive": {
                            "type": "boolean",
                            "example": true
                          },
                          "_count": {
                            "type": "object",
                            "properties": {
                              "models": {
                                "type": "integer",
                                "example": 5
                              }
                            }
                          }
                        }
                      }
                    },
                    "meta": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer",
                          "example": 10
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create new brand (Admin only)",
        "description": "Create a new vehicle brand - إنشاء ماركة مركبة جديدة",
        "tags": [
          "Vehicle Brands"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "example": "Tesla",
                    "description": "Brand name - اسم الماركة"
                  },
                  "nameAr": {
                    "type": "string",
                    "example": "تسلا",
                    "description": "Arabic brand name - اسم الماركة بالعربية"
                  },
                  "logo": {
                    "type": "string",
                    "nullable": true,
                    "example": "https://example.com/tesla-logo.png",
                    "description": "Brand logo URL - رابط شعار الماركة"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Brand created successfully - تم إنشاء الماركة بنجاح",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object"
                    },
                    "message": {
                      "type": "string",
                      "example": "Brand created successfully"
                    },
                    "messageAr": {
                      "type": "string",
                      "example": "تم إنشاء الماركة بنجاح"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error - خطأ في التحقق"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "409": {
            "description": "Brand already exists - الماركة موجودة بالفعل"
          }
        }
      }
    },
    "/api/brands/{id}": {
      "get": {
        "summary": "Get brand by ID",
        "description": "Retrieve a specific brand with all its models - احصل على ماركة محددة مع جميع موديلاتها",
        "tags": [
          "Vehicle Brands"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Brand ID - معرف الماركة"
          }
        ],
        "responses": {
          "200": {
            "description": "Brand found - تم العثور على الماركة"
          },
          "404": {
            "description": "Brand not found - الماركة غير موجودة",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Brand not found"
                    },
                    "errorAr": {
                      "type": "string",
                      "example": "الماركة غير موجودة"
                    },
                    "code": {
                      "type": "string",
                      "example": "BRAND_NOT_FOUND"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "patch": {
        "summary": "Update brand (Admin only)",
        "description": "Update an existing brand - تحديث ماركة موجودة",
        "tags": [
          "Vehicle Brands"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Brand ID - معرف الماركة"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "nameAr": {
                    "type": "string"
                  },
                  "logo": {
                    "type": "string",
                    "nullable": true
                  },
                  "isActive": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Brand updated successfully - تم تحديث الماركة بنجاح"
          },
          "404": {
            "description": "Brand not found - الماركة غير موجودة"
          },
          "409": {
            "description": "Brand name already exists - اسم الماركة موجود بالفعل"
          }
        }
      },
      "delete": {
        "summary": "Delete brand (Admin only)",
        "description": "Delete a brand (soft delete by default) - حذف ماركة (حفظ افتراضي)",
        "tags": [
          "Vehicle Brands"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Brand ID - معرف الماركة"
          },
          {
            "in": "query",
            "name": "hardDelete",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "Permanently delete brand and all models - حذف نهائي للماركة وجميع الموديلات"
          }
        ],
        "responses": {
          "200": {
            "description": "Brand deleted/deactivated - تم حذف/تعطيل الماركة"
          },
          "404": {
            "description": "Brand not found - الماركة غير موجودة"
          }
        }
      }
    },
    "/api/broadcasts": {
      "get": {
        "summary": "List all active broadcasts (Admin)",
        "tags": [
          "Broadcasts"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of broadcasts"
          }
        }
      }
    },
    "/api/broadcasts/{id}": {
      "get": {
        "summary": "Get broadcast by ID (Admin)",
        "tags": [
          "Broadcasts"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Broadcast details"
          }
        }
      }
    },
    "/api/cart": {
      "get": {
        "summary": "Get my cart (with items)",
        "tags": [
          "Cart"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Current user cart with items"
          }
        }
      }
    },
    "/api/cart/checkout": {
      "post": {
        "summary": "Create order from cart (Customer)",
        "tags": [
          "Cart"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "shippingAddress": {
                    "type": "object",
                    "properties": {
                      "address": {
                        "type": "string"
                      },
                      "city": {
                        "type": "string"
                      },
                      "country": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "phone": {
                        "type": "string"
                      }
                    }
                  },
                  "paymentMethod": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Order created from cart"
          }
        }
      }
    },
    "/api/cart/items": {
      "post": {
        "summary": "Add auto part to cart",
        "tags": [
          "Cart"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "autoPartId"
                ],
                "properties": {
                  "autoPartId": {
                    "type": "string"
                  },
                  "quantity": {
                    "type": "integer",
                    "default": 1
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Item added to cart"
          }
        }
      }
    },
    "/api/cart/items/{id}": {
      "patch": {
        "summary": "Update cart item quantity",
        "tags": [
          "Cart"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "quantity": {
                    "type": "integer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Cart updated"
          }
        }
      },
      "delete": {
        "summary": "Remove item from cart",
        "tags": [
          "Cart"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Item removed"
          }
        }
      }
    },
    "/api/bookings/carwash/request": {
      "post": {
        "summary": "Create a car wash request",
        "description": "Create a new car wash request and broadcast it to nearby technicians.\nThe request will be broadcasted to available car wash service providers in the area.\n\nإنشاء طلب غسيل سيارة جديد وإرساله إلى الفنيين القريبين\n",
        "tags": [
          "Car Wash Service"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "vehicleId",
                  "location",
                  "serviceType"
                ],
                "properties": {
                  "vehicleId": {
                    "type": "string",
                    "description": "ID of the vehicle to be washed - معرف المركبة المراد غسلها",
                    "example": "clm1a2b3c4d5e6f7g8h9i0j1"
                  },
                  "location": {
                    "type": "object",
                    "required": [
                      "latitude",
                      "longitude",
                      "address"
                    ],
                    "properties": {
                      "latitude": {
                        "type": "number",
                        "description": "Location latitude - خط العرض",
                        "example": 24.7136
                      },
                      "longitude": {
                        "type": "number",
                        "description": "Location longitude - خط الطول",
                        "example": 46.6753
                      },
                      "address": {
                        "type": "string",
                        "description": "Full address - العنوان الكامل",
                        "example": "Riyadh, Al Olaya District"
                      }
                    }
                  },
                  "serviceType": {
                    "type": "string",
                    "enum": [
                      "INTERNAL",
                      "EXTERNAL",
                      "FULL"
                    ],
                    "description": "Type of car wash service:\n- INTERNAL: Interior cleaning only\n- EXTERNAL: Exterior washing only\n- FULL: Complete car wash (interior + exterior)\n\nنوع خدمة غسيل السيارة\n",
                    "example": "FULL"
                  },
                  "notes": {
                    "type": "string",
                    "description": "Additional notes or special requests - ملاحظات إضافية",
                    "example": "Please use waterless wash products"
                  },
                  "estimatedBudget": {
                    "type": "number",
                    "description": "Customer's estimated budget in SAR - الميزانية المقدرة بالريال السعودي",
                    "example": 150
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Car wash request broadcasted successfully - تم إرسال طلب غسيل السيارة بنجاح",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Car wash request broadcasted successfully"
                    },
                    "messageAr": {
                      "type": "string",
                      "example": "تم إرسال طلب غسيل السيارة بنجاح"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "bookingId": {
                          "type": "string",
                          "example": "clm1a2b3c4d5e6f7g8h9i0j1"
                        },
                        "broadcastId": {
                          "type": "string",
                          "example": "clm2b3c4d5e6f7g8h9i0j1k2"
                        },
                        "status": {
                          "type": "string",
                          "example": "BROADCASTING"
                        },
                        "broadcastUntil": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2024-01-29T20:00:00.000Z"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/ValidationError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "404": {
            "description": "Vehicle not found - المركبة غير موجودة"
          }
        }
      }
    },
    "/api/bookings/carwash/{broadcastId}/offers": {
      "get": {
        "summary": "Get offers for a car wash broadcast",
        "description": "Retrieve all offers submitted by technicians for a specific car wash broadcast.\nEach offer includes technician details, bid amount, and estimated arrival time.\n\nالحصول على جميع العروض المقدمة من الفنيين لطلب غسيل السيارة\n",
        "tags": [
          "Car Wash Service"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "broadcastId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Broadcast ID - معرف البث",
            "example": "clm2b3c4d5e6f7g8h9i0j1k2"
          }
        ],
        "responses": {
          "200": {
            "description": "Offers retrieved successfully - تم استرجاع العروض بنجاح",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Offers retrieved successfully"
                    },
                    "messageAr": {
                      "type": "string",
                      "example": "تم استرجاع العروض بنجاح"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "broadcast": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string",
                              "example": "clm2b3c4d5e6f7g8h9i0j1k2"
                            },
                            "status": {
                              "type": "string",
                              "example": "BROADCASTING"
                            },
                            "location": {
                              "type": "object",
                              "properties": {
                                "latitude": {
                                  "type": "number",
                                  "example": 24.7136
                                },
                                "longitude": {
                                  "type": "number",
                                  "example": 46.6753
                                },
                                "address": {
                                  "type": "string",
                                  "example": "Riyadh, Al Olaya District"
                                }
                              }
                            },
                            "expiresAt": {
                              "type": "string",
                              "format": "date-time",
                              "example": "2024-01-29T20:00:00.000Z"
                            }
                          }
                        },
                        "offers": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "example": "clm3c4d5e6f7g8h9i0j1k2l3"
                              },
                              "technician": {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "string",
                                    "example": "clm4d5e6f7g8h9i0j1k2l3m4"
                                  },
                                  "name": {
                                    "type": "string",
                                    "example": "Ahmed Al-Rashid"
                                  },
                                  "avatar": {
                                    "type": "string",
                                    "example": "https://example.com/avatar.jpg"
                                  },
                                  "rating": {
                                    "type": "number",
                                    "example": 4.8
                                  },
                                  "distance": {
                                    "type": "number",
                                    "description": "Distance in kilometers",
                                    "example": 3.5
                                  },
                                  "estimatedArrival": {
                                    "type": "number",
                                    "description": "Estimated arrival time in minutes",
                                    "example": 15
                                  }
                                }
                              },
                              "bidAmount": {
                                "type": "number",
                                "description": "Offer price in SAR",
                                "example": 120
                              },
                              "message": {
                                "type": "string",
                                "example": "I can wash your car in 30 minutes"
                              },
                              "status": {
                                "type": "string",
                                "enum": [
                                  "PENDING",
                                  "ACCEPTED"
                                ],
                                "example": "PENDING"
                              },
                              "createdAt": {
                                "type": "string",
                                "format": "date-time",
                                "example": "2024-01-29T19:30:00.000Z"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          }
        }
      }
    },
    "/api/bookings/carwash/{broadcastId}/offers/{offerId}/accept": {
      "post": {
        "summary": "Accept a car wash offer",
        "description": "Accept a specific offer from a technician for the car wash service.\nThis will assign the technician to the booking and close the broadcast.\n\nقبول عرض محدد من فني لخدمة غسيل السيارة\n",
        "tags": [
          "Car Wash Service"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "broadcastId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Broadcast ID - معرف البث",
            "example": "clm2b3c4d5e6f7g8h9i0j1k2"
          },
          {
            "in": "path",
            "name": "offerId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Offer ID - معرف العرض",
            "example": "clm3c4d5e6f7g8h9i0j1k2l3"
          }
        ],
        "responses": {
          "200": {
            "description": "Offer accepted successfully - تم قبول العرض بنجاح",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Offer accepted successfully"
                    },
                    "messageAr": {
                      "type": "string",
                      "example": "تم قبول العرض بنجاح"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "booking": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string",
                              "example": "clm1a2b3c4d5e6f7g8h9i0j1"
                            },
                            "bookingNumber": {
                              "type": "string",
                              "example": "WASH-20240129-001"
                            },
                            "status": {
                              "type": "string",
                              "example": "TECHNICIAN_ASSIGNED"
                            },
                            "technician": {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "string",
                                  "example": "clm4d5e6f7g8h9i0j1k2l3m4"
                                },
                                "name": {
                                  "type": "string",
                                  "example": "Ahmed Al-Rashid"
                                },
                                "phone": {
                                  "type": "string",
                                  "example": "+966501234567"
                                },
                                "avatar": {
                                  "type": "string",
                                  "example": "https://example.com/avatar.jpg"
                                }
                              }
                            },
                            "agreedPrice": {
                              "type": "number",
                              "description": "Agreed service price in SAR",
                              "example": 120
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request - الطلب غير صالح",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "success": false,
                  "error": "Broadcast is not active",
                  "errorAr": "البث غير نشط",
                  "code": "INVALID_STATUS"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          }
        }
      }
    },
    "/api/dashboard/stats": {
      "get": {
        "summary": "Get dashboard statistics overview",
        "description": "Retrieve key metrics like total users, bookings, revenue, etc.",
        "tags": [
          "Admin Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Dashboard statistics"
          }
        }
      }
    },
    "/api/feedback": {
      "post": {
        "summary": "Submit new complaint or suggestion",
        "description": "Submit feedback. If linked to an order, ownership is verified.",
        "tags": [
          "Feedback"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Feedback"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created"
          },
          "403": {
            "description": "Forbidden (Order doesn't belong to user)"
          }
        }
      }
    },
    "/api/feedback/my": {
      "get": {
        "summary": "Get my feedback history",
        "description": "Retrieve list of feedbacks submitted by the current user.",
        "tags": [
          "Feedback"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of feedbacks"
          }
        }
      }
    },
    "/api/feedback/{id}": {
      "get": {
        "summary": "Get feedback details",
        "description": "Get full details including replies and history.",
        "tags": [
          "Feedback"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Feedback detail"
          }
        }
      }
    },
    "/api/feedback/{id}/reply": {
      "post": {
        "summary": "Reply to a feedback (Customer)",
        "description": "Allow customer to reply to an ongoing feedback conversation.",
        "tags": [
          "Feedback"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Feedback ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "message"
                ],
                "properties": {
                  "message": {
                    "type": "string",
                    "example": "شكراً لك، سأنتظر التحديث."
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Reply created"
          },
          "400": {
            "description": "Invalid input or feedback closed"
          },
          "403": {
            "description": "Access denied (Not your feedback)"
          },
          "404": {
            "description": "Feedback not found"
          }
        }
      }
    },
    "/api/inspections": {
      "get": {
        "summary": "List all inspections",
        "description": "Retrieve a list of vehicle inspections (Admin/Technician only)",
        "tags": [
          "Inspections"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string"
            },
            "description": "Filter by status"
          }
        ],
        "responses": {
          "200": {
            "description": "List of inspections"
          }
        }
      }
    },
    "/api/inspections/{id}": {
      "get": {
        "summary": "Get inspection by ID",
        "description": "Retrieve details of a specific inspection",
        "tags": [
          "Inspections"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Inspection details"
          },
          "404": {
            "description": "Inspection not found"
          }
        }
      }
    },
    "/api/invoices": {
      "get": {
        "summary": "List all invoices (Admin)",
        "tags": [
          "Invoices"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            }
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of invoices"
          }
        }
      }
    },
    "/api/invoices/{id}": {
      "get": {
        "summary": "Get invoice by ID (Admin)",
        "tags": [
          "Invoices"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Invoice details"
          }
        }
      }
    },
    "/api/marketplace-orders": {
      "post": {
        "summary": "Create new order",
        "tags": [
          "Marketplace Orders"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "items"
                ],
                "properties": {
                  "items": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "autoPartId": {
                          "type": "string"
                        },
                        "quantity": {
                          "type": "integer"
                        }
                      }
                    }
                  },
                  "shippingAddress": {
                    "type": "object",
                    "properties": {
                      "address": {
                        "type": "string"
                      },
                      "city": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Order created"
          }
        }
      },
      "get": {
        "summary": "Get all orders (Admin)",
        "tags": [
          "Marketplace Orders"
        ],
        "responses": {
          "200": {
            "description": "List of all orders"
          }
        }
      }
    },
    "/api/marketplace-orders/my-orders": {
      "get": {
        "summary": "Get my orders (Customer)",
        "tags": [
          "Marketplace Orders"
        ],
        "responses": {
          "200": {
            "description": "List of own orders"
          }
        }
      }
    },
    "/api/marketplace-orders/vendor-orders": {
      "get": {
        "summary": "Get received orders (Vendor)",
        "tags": [
          "Marketplace Orders"
        ],
        "responses": {
          "200": {
            "description": "List of orders containing vendor items"
          }
        }
      }
    },
    "/api/marketplace-orders/{id}": {
      "get": {
        "summary": "Get order details",
        "tags": [
          "Marketplace Orders"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Order details"
          }
        }
      }
    },
    "/api/marketplace-orders/{id}/status": {
      "put": {
        "summary": "Update global order status (Admin)",
        "tags": [
          "Marketplace Orders"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "status"
                ],
                "properties": {
                  "status": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Status updated"
          }
        }
      }
    },
    "/api/marketplace-orders/{id}/items/{itemId}/status": {
      "put": {
        "summary": "Update item status (Vendor)",
        "tags": [
          "Marketplace Orders"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id"
          },
          {
            "in": "path",
            "name": "itemId"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "status"
                ],
                "properties": {
                  "status": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Item status updated"
          }
        }
      }
    },
    "/api/mobile-car-service": {
      "get": {
        "summary": "Get Mobile Car Service details",
        "tags": [
          "Mobile Car Service"
        ],
        "responses": {
          "200": {
            "description": "Service details"
          }
        }
      }
    },
    "/api/mobile-car-service/sub-services": {
      "get": {
        "summary": "Get sub-services for Mobile Car Service",
        "tags": [
          "Mobile Car Service"
        ],
        "responses": {
          "200": {
            "description": "List of sub-services"
          }
        }
      }
    },
    "/api/mobile-car-service/compatible-parts": {
      "get": {
        "summary": "Get compatible spare parts for a vehicle",
        "tags": [
          "Mobile Car Service"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "vehicleId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of compatible parts"
          }
        }
      }
    },
    "/api/mobile-car-service/recommended-parts": {
      "get": {
        "summary": "Get recommended spare parts for a service",
        "tags": [
          "Mobile Car Service"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "serviceId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of recommended parts"
          }
        }
      }
    },
    "/api/mobile-car-service/bookings": {
      "post": {
        "summary": "Create mobile car service booking",
        "tags": [
          "Mobile Car Service"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "vehicleId",
                  "scheduledDate",
                  "serviceIds"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Booking created"
          }
        }
      }
    },
    "/api/mobile-car-service/bookings/{id}": {
      "get": {
        "summary": "Get mobile service booking details",
        "tags": [
          "Mobile Car Service"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Booking details"
          }
        }
      }
    },
    "/api/mobile-car-service/bookings/{id}/status": {
      "patch": {
        "summary": "Update mobile service booking status",
        "tags": [
          "Mobile Car Service"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "status"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Status updated"
          }
        }
      }
    },
    "/api/models": {
      "get": {
        "summary": "Get all vehicle models",
        "description": "Retrieve vehicle models with optional filters - احصل على موديلات المركبات مع فلاتر اختيارية",
        "tags": [
          "Vehicle Models"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "brandId",
            "schema": {
              "type": "string"
            },
            "description": "Filter by brand ID - تصفية حسب معرف الماركة"
          },
          {
            "in": "query",
            "name": "year",
            "schema": {
              "type": "integer"
            },
            "description": "Filter by year - تصفية حسب السنة",
            "example": 2023
          },
          {
            "in": "query",
            "name": "size",
            "schema": {
              "type": "string",
              "enum": [
                "SMALL",
                "MEDIUM",
                "LARGE",
                "EXTRA_LARGE"
              ]
            },
            "description": "Filter by size - تصفية حسب الحجم"
          },
          {
            "in": "query",
            "name": "activeOnly",
            "schema": {
              "type": "boolean",
              "default": true
            },
            "description": "Only active models - الموديلات النشطة فقط"
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved models - تم جلب الموديلات بنجاح",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "brandId": {
                            "type": "string"
                          },
                          "name": {
                            "type": "string",
                            "example": "Camry"
                          },
                          "nameAr": {
                            "type": "string",
                            "example": "كامري"
                          },
                          "year": {
                            "type": "integer",
                            "example": 2023
                          },
                          "size": {
                            "type": "string",
                            "enum": [
                              "SMALL",
                              "MEDIUM",
                              "LARGE",
                              "EXTRA_LARGE"
                            ],
                            "example": "MEDIUM"
                          },
                          "imageUrl": {
                            "type": "string",
                            "nullable": true
                          },
                          "brand": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "name": {
                                "type": "string",
                                "example": "Toyota"
                              },
                              "nameAr": {
                                "type": "string",
                                "example": "تويوتا"
                              }
                            }
                          },
                          "_count": {
                            "type": "object",
                            "properties": {
                              "userVehicles": {
                                "type": "integer",
                                "example": 5
                              }
                            }
                          }
                        }
                      }
                    },
                    "meta": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer"
                        },
                        "filters": {
                          "type": "object"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create new model (Admin only)",
        "description": "Create a new vehicle model - إنشاء موديل مركبة جديد",
        "tags": [
          "Vehicle Models"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "brandId",
                  "name",
                  "year",
                  "size"
                ],
                "properties": {
                  "brandId": {
                    "type": "string",
                    "description": "Brand ID - معرف الماركة"
                  },
                  "name": {
                    "type": "string",
                    "example": "Camry",
                    "description": "Model name - اسم الموديل"
                  },
                  "nameAr": {
                    "type": "string",
                    "example": "كامري",
                    "description": "Arabic model name - اسم الموديل بالعربية"
                  },
                  "year": {
                    "type": "integer",
                    "example": 2023,
                    "description": "Model year - سنة الموديل"
                  },
                  "size": {
                    "type": "string",
                    "enum": [
                      "SMALL",
                      "MEDIUM",
                      "LARGE",
                      "EXTRA_LARGE"
                    ],
                    "example": "MEDIUM",
                    "description": "Vehicle size - حجم المركبة"
                  },
                  "imageUrl": {
                    "type": "string",
                    "nullable": true,
                    "description": "Model image URL - رابط صورة الموديل"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Model created successfully - تم إنشاء الموديل بنجاح"
          },
          "400": {
            "description": "Validation error - خطأ في التحقق"
          },
          "404": {
            "description": "Brand not found - الماركة غير موجودة"
          },
          "409": {
            "description": "Model already exists - الموديل موجود بالفعل"
          }
        }
      }
    },
    "/api/models/{id}": {
      "get": {
        "summary": "Get model by ID",
        "description": "Retrieve a specific vehicle model - احصل على موديل محدد",
        "tags": [
          "Vehicle Models"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Model ID - معرف الموديل"
          }
        ],
        "responses": {
          "200": {
            "description": "Model found - تم العثور على الموديل"
          },
          "404": {
            "description": "Model not found - الموديل غير موجود"
          }
        }
      },
      "patch": {
        "summary": "Update model (Admin only)",
        "description": "Update an existing model - تحديث موديل موجود",
        "tags": [
          "Vehicle Models"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Model ID - معرف الموديل"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "brandId": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "nameAr": {
                    "type": "string"
                  },
                  "year": {
                    "type": "integer"
                  },
                  "size": {
                    "type": "string",
                    "enum": [
                      "SMALL",
                      "MEDIUM",
                      "LARGE",
                      "EXTRA_LARGE"
                    ]
                  },
                  "imageUrl": {
                    "type": "string",
                    "nullable": true
                  },
                  "isActive": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Model updated successfully - تم تحديث الموديل بنجاح"
          },
          "404": {
            "description": "Model not found - الموديل غير موجود"
          },
          "409": {
            "description": "Model with these details already exists - الموديل بهذه التفاصيل موجود بالفعل"
          }
        }
      },
      "delete": {
        "summary": "Delete model (Admin only)",
        "description": "Delete a model (soft delete by default) - حذف موديل (حفظ افتراضي)",
        "tags": [
          "Vehicle Models"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Model ID - معرف الموديل"
          },
          {
            "in": "query",
            "name": "hardDelete",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "Permanently delete model - حذف نهائي للموديل"
          }
        ],
        "responses": {
          "200": {
            "description": "Model deleted/deactivated - تم حذف/تعطيل الموديل"
          },
          "404": {
            "description": "Model not found - الموديل غير موجود"
          }
        }
      }
    },
    "/api/notifications": {
      "get": {
        "summary": "Get my notifications",
        "tags": [
          "Notifications"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of notifications"
          }
        }
      }
    },
    "/api/notifications/read-all": {
      "patch": {
        "summary": "Mark all my notifications as read",
        "tags": [
          "Notifications"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Notifications updated"
          }
        }
      }
    },
    "/api/notifications/{id}": {
      "get": {
        "summary": "Get notification by ID",
        "tags": [
          "Notifications"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Notification details"
          }
        }
      }
    },
    "/api/notifications/{id}/read": {
      "patch": {
        "summary": "Mark a single notification as read",
        "tags": [
          "Notifications"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Notification marked as read"
          }
        }
      }
    },
    "/api/notifications/admin/all": {
      "get": {
        "summary": "Get all system notifications (Admin)",
        "tags": [
          "Notifications"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of all notifications"
          }
        }
      }
    },
    "/api/payments": {
      "get": {
        "summary": "List my payments",
        "tags": [
          "Payments"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of payments"
          }
        }
      }
    },
    "/api/payments/{id}": {
      "get": {
        "summary": "Get payment by ID",
        "tags": [
          "Payments"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Payment details"
          }
        }
      }
    },
    "/api/ratings": {
      "get": {
        "summary": "List all ratings (Admin)",
        "tags": [
          "Ratings"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of ratings"
          }
        }
      }
    },
    "/api/services/upload-image": {
      "post": {
        "summary": "Upload service image",
        "tags": [
          "Services"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Image uploaded successfully"
          }
        }
      }
    },
    "/api/services": {
      "get": {
        "summary": "Get all services",
        "description": "Retrieve a list of all available services with filtering",
        "tags": [
          "Services"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "category",
            "schema": {
              "type": "string",
              "enum": [
                "CLEANING",
                "MAINTENANCE",
                "REPAIR",
                "EMERGENCY",
                "INSPECTION",
                "CUSTOMIZATION",
                "COMPREHENSIVE_CARE"
              ]
            }
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string",
              "enum": [
                "FIXED",
                "CATALOG",
                "EMERGENCY",
                "INSPECTION"
              ]
            }
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of services retrieved"
          }
        }
      },
      "post": {
        "summary": "Create new service (Admin)",
        "tags": [
          "Services"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "type",
                  "category"
                ],
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "nameAr": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "type": {
                    "type": "string"
                  },
                  "category": {
                    "type": "string"
                  },
                  "estimatedDuration": {
                    "type": "integer"
                  },
                  "pricing": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "vehicleSize": {
                          "type": "string"
                        },
                        "basePrice": {
                          "type": "number"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Service created"
          }
        }
      }
    },
    "/api/services/{id}/available-slots": {
      "get": {
        "summary": "Get available time slots for a service",
        "description": "Returns available time slots for Comprehensive Care booking (no double-book).",
        "tags": [
          "Services"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "date",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date"
            },
            "example": "2024-02-23"
          }
        ],
        "responses": {
          "200": {
            "description": "List of available slots"
          }
        }
      }
    },
    "/api/services/{id}": {
      "get": {
        "summary": "Get service details",
        "tags": [
          "Services"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Service details retrieved"
          },
          "404": {
            "description": "Service not found"
          }
        }
      },
      "put": {
        "summary": "Update service (Admin)",
        "tags": [
          "Services"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "isActive": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Service updated"
          }
        }
      },
      "delete": {
        "summary": "Delete/Deactivate service (Admin)",
        "tags": [
          "Services"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Service deleted"
          }
        }
      }
    },
    "/api/supplies": {
      "get": {
        "summary": "List all supply requests",
        "tags": [
          "Supply Requests"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of supply requests"
          }
        }
      }
    },
    "/api/supplies/{id}": {
      "get": {
        "summary": "Get supply request by ID",
        "tags": [
          "Supply Requests"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Supply request details"
          },
          "404": {
            "description": "Not found"
          }
        }
      }
    },
    "/api/technical-support-requests": {
      "post": {
        "summary": "Submit technical support request (طلب دعم فني)",
        "description": "المستخدم يقدم طلب دعم فني يتضمن:\nالرقم التسلسلي للسيارة، رقم اللوحة، هل يوجد تأمين واسم شركة التأمين،\nعنوان التسليم، اختياري إذن إصلاح/وثيقة نجم/تقرير مرور، أضرار الحادث، صور السيارة (اختياري).\n",
        "tags": [
          "Technical Support Request"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "vehicleSerialNumber",
                  "plateNumber",
                  "deliveryAddress",
                  "accidentDamages"
                ],
                "properties": {
                  "vehicleSerialNumber": {
                    "type": "string",
                    "description": "الرقم التسلسلي للسيارة"
                  },
                  "plateNumber": {
                    "type": "string",
                    "description": "رقم اللوحة"
                  },
                  "hasInsurance": {
                    "type": "boolean",
                    "default": false
                  },
                  "insuranceCompany": {
                    "type": "string",
                    "description": "اسم شركة التأمين"
                  },
                  "deliveryAddress": {
                    "type": "string",
                    "description": "عنوان التسليم"
                  },
                  "repairAuthUrl": {
                    "type": "string",
                    "description": "رابط إذن إصلاح (اختياري)"
                  },
                  "najmDocUrl": {
                    "type": "string",
                    "description": "رابط وثيقة نجم (اختياري)"
                  },
                  "trafficReportUrl": {
                    "type": "string",
                    "description": "رابط تقرير مرور (اختياري)"
                  },
                  "accidentDamages": {
                    "type": "string",
                    "description": "أضرار الحادث"
                  },
                  "carImageUrls": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "روابط صور السيارة (اختياري)"
                  },
                  "notes": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Request created"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/api/technical-support-requests/my": {
      "get": {
        "summary": "Get my technical support requests",
        "tags": [
          "Technical Support Request"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            }
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "PENDING",
                "ASSIGNED",
                "IN_PROGRESS",
                "COMPLETED",
                "CANCELLED"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of my requests"
          }
        }
      }
    },
    "/api/technical-support-requests/admin/list": {
      "get": {
        "summary": "[Admin] List all technical support requests",
        "tags": [
          "Technical Support Request"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 20
            }
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "PENDING",
                "ASSIGNED",
                "IN_PROGRESS",
                "COMPLETED",
                "CANCELLED"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of requests"
          }
        }
      }
    },
    "/api/technical-support-requests/admin/{id}/assign": {
      "post": {
        "summary": "[Admin] Assign technician to request",
        "description": "الأدمن يحدد الفني الذي سيراجع العميل",
        "tags": [
          "Technical Support Request"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "technicianId"
                ],
                "properties": {
                  "technicianId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "ID الفني"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Technician assigned"
          },
          "400": {
            "description": "Invalid technician or request state"
          },
          "404": {
            "description": "Request not found"
          }
        }
      }
    },
    "/api/technical-support-requests/admin/{id}/status": {
      "patch": {
        "summary": "[Admin] Update request status",
        "tags": [
          "Technical Support Request"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "status": {
                    "type": "string",
                    "enum": [
                      "PENDING",
                      "ASSIGNED",
                      "IN_PROGRESS",
                      "COMPLETED",
                      "CANCELLED"
                    ]
                  },
                  "notes": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Status updated"
          }
        }
      }
    },
    "/api/technical-support-requests/technicians": {
      "get": {
        "summary": "[Admin] List technicians for assign dropdown",
        "tags": [
          "Technical Support Request"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of technicians (id, email, profile.firstName, profile.lastName)"
          }
        }
      }
    },
    "/api/technical-support-requests/{id}/track": {
      "get": {
        "summary": "Get tracking info (technician location) for customer",
        "description": "العميل يتابع موقع الفني. ثم يتصل بالسوكيت وغرفة tsr لاستقبال التحديثات اللحظية.",
        "tags": [
          "Technical Support Request"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "request, technician, currentLocation"
          }
        }
      }
    },
    "/api/technical-support-requests/{id}": {
      "get": {
        "summary": "Get request by ID (owner or admin)",
        "tags": [
          "Technical Support Request"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Request details"
          },
          "403": {
            "description": "Not owner"
          },
          "404": {
            "description": "Not found"
          }
        }
      }
    },
    "/api/technician/carwash/broadcasts": {
      "get": {
        "summary": "Get active car wash broadcasts",
        "description": "Fetch all active car wash requests within the technician's service radius.\n\nجلب جميع طلبات غسيل السيارات النشطة في نطاق خدمة الفني\n",
        "tags": [
          "Technician Car Wash"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of active broadcasts",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "broadcasts": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "customer": {
                                "type": "object",
                                "properties": {
                                  "name": {
                                    "type": "string"
                                  },
                                  "avatar": {
                                    "type": "string"
                                  }
                                }
                              },
                              "vehicle": {
                                "type": "object",
                                "properties": {
                                  "make": {
                                    "type": "string"
                                  },
                                  "model": {
                                    "type": "string"
                                  },
                                  "year": {
                                    "type": "integer"
                                  },
                                  "plateNumber": {
                                    "type": "string"
                                  }
                                }
                              },
                              "location": {
                                "type": "object",
                                "properties": {
                                  "address": {
                                    "type": "string"
                                  },
                                  "distance": {
                                    "type": "number"
                                  },
                                  "eta": {
                                    "type": "number"
                                  }
                                }
                              },
                              "serviceType": {
                                "type": "string"
                              },
                              "estimatedBudget": {
                                "type": "number"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/technician/carwash/{broadcastId}/offers": {
      "post": {
        "summary": "Submit an offer for a car wash request",
        "description": "Submit a price and ETA offer for a specific car wash job broadcast.\n\nتقديم عرض سعر ووقت وصول لطلب غسيل سيارة محدد\n",
        "tags": [
          "Technician Car Wash"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "broadcastId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the broadcast to offer on"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "bidAmount",
                  "estimatedArrival"
                ],
                "properties": {
                  "bidAmount": {
                    "type": "number",
                    "description": "Offered price in SAR",
                    "example": 150
                  },
                  "estimatedArrival": {
                    "type": "number",
                    "description": "Estimated arrival time in minutes",
                    "example": 15
                  },
                  "message": {
                    "type": "string",
                    "description": "Optional message to customer",
                    "example": "I have premium wax tools"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Offer submitted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Success"
                }
              }
            }
          }
        }
      }
    },
    "/api/technician/towing/broadcasts": {
      "get": {
        "summary": "Get active towing broadcasts",
        "description": "Get all active towing requests that the technician can bid on",
        "tags": [
          "Technician Towing"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of active broadcasts",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "broadcasts": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "format": "uuid"
                              },
                              "customer": {
                                "type": "object",
                                "properties": {
                                  "name": {
                                    "type": "string"
                                  },
                                  "avatar": {
                                    "type": "string"
                                  }
                                }
                              },
                              "vehicle": {
                                "type": "object"
                              },
                              "pickupLocation": {
                                "type": "object"
                              },
                              "destinationLocation": {
                                "type": "object"
                              },
                              "distance": {
                                "type": "number",
                                "example": 5.2
                              },
                              "estimatedArrival": {
                                "type": "number",
                                "example": 15
                              },
                              "estimatedPrice": {
                                "type": "number",
                                "example": 75
                              },
                              "urgency": {
                                "type": "string",
                                "example": "HIGH"
                              },
                              "vehicleCondition": {
                                "type": "string"
                              },
                              "expiresAt": {
                                "type": "string",
                                "format": "date-time"
                              },
                              "myOffer": {
                                "type": "object",
                                "nullable": true
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/technician/towing/broadcasts/{broadcastId}/offer": {
      "post": {
        "summary": "Submit offer for towing request",
        "tags": [
          "Technician Towing"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "broadcastId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "bidAmount"
                ],
                "properties": {
                  "bidAmount": {
                    "type": "number",
                    "example": 180,
                    "description": "Your bid amount in SAR"
                  },
                  "message": {
                    "type": "string",
                    "example": "I'm nearby, can arrive in 8 minutes"
                  },
                  "estimatedArrival": {
                    "type": "number",
                    "example": 8,
                    "description": "Estimated arrival time in minutes"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Offer submitted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Offer submitted successfully"
                    },
                    "messageAr": {
                      "type": "string",
                      "example": "تم إرسال العرض بنجاح"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "offer": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string",
                              "format": "uuid"
                            },
                            "broadcastId": {
                              "type": "string"
                            },
                            "bidAmount": {
                              "type": "number"
                            },
                            "message": {
                              "type": "string"
                            },
                            "status": {
                              "type": "string",
                              "example": "PENDING"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/technician/towing/jobs": {
      "get": {
        "summary": "Get assigned towing jobs",
        "tags": [
          "Technician Towing"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of assigned jobs",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "jobs": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "bookingNumber": {
                                "type": "string",
                                "example": "TWG-20260127-001"
                              },
                              "status": {
                                "type": "string",
                                "example": "TECHNICIAN_ASSIGNED"
                              },
                              "customer": {
                                "type": "object"
                              },
                              "vehicle": {
                                "type": "object"
                              },
                              "pickupLocation": {
                                "type": "object"
                              },
                              "destinationLocation": {
                                "type": "object"
                              },
                              "agreedPrice": {
                                "type": "number"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/technician/towing/jobs/{jobId}/status": {
      "patch": {
        "summary": "Update job status",
        "description": "Update the status of an assigned towing job",
        "tags": [
          "Technician Towing"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "jobId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "status"
                ],
                "properties": {
                  "status": {
                    "type": "string",
                    "enum": [
                      "TECHNICIAN_EN_ROUTE",
                      "TECHNICIAN_ARRIVED",
                      "IN_PROGRESS",
                      "COMPLETED"
                    ],
                    "example": "TECHNICIAN_EN_ROUTE"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Status updated successfully"
          }
        }
      }
    },
    "/api/bookings/towing/request": {
      "post": {
        "summary": "Create towing request",
        "tags": [
          "Towing Service"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "vehicleId",
                  "pickupLocation",
                  "destinationLocation"
                ],
                "properties": {
                  "vehicleId": {
                    "type": "string",
                    "format": "uuid",
                    "example": "123e4567-e89b-12d3-a456-426614174000"
                  },
                  "pickupLocation": {
                    "type": "object",
                    "required": [
                      "latitude",
                      "longitude",
                      "address"
                    ],
                    "properties": {
                      "latitude": {
                        "type": "number",
                        "example": 24.7136
                      },
                      "longitude": {
                        "type": "number",
                        "example": 46.6753
                      },
                      "address": {
                        "type": "string",
                        "example": "King Fahd Road, Riyadh"
                      }
                    }
                  },
                  "destinationLocation": {
                    "type": "object",
                    "required": [
                      "latitude",
                      "longitude",
                      "address"
                    ],
                    "properties": {
                      "latitude": {
                        "type": "number",
                        "example": 24.75
                      },
                      "longitude": {
                        "type": "number",
                        "example": 46.7
                      },
                      "address": {
                        "type": "string",
                        "example": "Workshop, Riyadh"
                      }
                    }
                  },
                  "vehicleCondition": {
                    "type": "string",
                    "enum": [
                      "NOT_STARTING",
                      "ACCIDENT",
                      "FLAT_TIRE",
                      "ENGINE_FAILURE",
                      "OTHER"
                    ],
                    "example": "NOT_STARTING"
                  },
                  "urgency": {
                    "type": "string",
                    "enum": [
                      "NORMAL",
                      "HIGH"
                    ],
                    "default": "NORMAL",
                    "example": "HIGH"
                  },
                  "notes": {
                    "type": "string",
                    "example": "Car won't start after accident"
                  },
                  "estimatedBudget": {
                    "type": "number",
                    "example": 200
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Towing request created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Towing request created successfully"
                    },
                    "messageAr": {
                      "type": "string",
                      "example": "تم إنشاء طلب السحب بنجاح"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "bookingId": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "broadcastId": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "status": {
                          "type": "string",
                          "example": "BROADCASTING"
                        },
                        "estimatedDistance": {
                          "type": "number",
                          "example": 4.2
                        },
                        "estimatedPrice": {
                          "type": "number",
                          "example": 71
                        },
                        "broadcastUntil": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "nearbyTechniciansCount": {
                          "type": "number",
                          "example": 5
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Vehicle not found or no technicians available"
          }
        }
      }
    },
    "/api/bookings/towing/{broadcastId}/offers": {
      "get": {
        "summary": "Get offers for towing request",
        "tags": [
          "Towing Service"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "broadcastId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Broadcast ID from create request response"
          }
        ],
        "responses": {
          "200": {
            "description": "List of offers from technicians",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "broadcast": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string",
                              "format": "uuid"
                            },
                            "status": {
                              "type": "string",
                              "example": "BROADCASTING"
                            },
                            "pickupLocation": {
                              "type": "object"
                            },
                            "destinationLocation": {
                              "type": "object"
                            },
                            "expiresAt": {
                              "type": "string",
                              "format": "date-time"
                            }
                          }
                        },
                        "offers": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "format": "uuid"
                              },
                              "technician": {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "string"
                                  },
                                  "name": {
                                    "type": "string",
                                    "example": "Ahmed المهندس"
                                  },
                                  "avatar": {
                                    "type": "string"
                                  },
                                  "rating": {
                                    "type": "number",
                                    "example": 4.8
                                  },
                                  "completedJobs": {
                                    "type": "number",
                                    "example": 150
                                  },
                                  "distance": {
                                    "type": "number",
                                    "example": 2.3
                                  },
                                  "estimatedArrival": {
                                    "type": "number",
                                    "example": 8
                                  }
                                }
                              },
                              "bidAmount": {
                                "type": "number",
                                "example": 180
                              },
                              "message": {
                                "type": "string",
                                "example": "I'm nearby, can arrive in 8 minutes"
                              },
                              "createdAt": {
                                "type": "string",
                                "format": "date-time"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/bookings/towing/{broadcastId}/offers/{offerId}/accept": {
      "post": {
        "summary": "Accept technician offer",
        "tags": [
          "Towing Service"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "broadcastId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "in": "path",
            "name": "offerId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Offer accepted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Offer accepted successfully"
                    },
                    "messageAr": {
                      "type": "string",
                      "example": "تم قبول العرض بنجاح"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "booking": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string",
                              "format": "uuid"
                            },
                            "bookingNumber": {
                              "type": "string",
                              "example": "TWG-20260127-001"
                            },
                            "status": {
                              "type": "string",
                              "example": "TECHNICIAN_ASSIGNED"
                            },
                            "technician": {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "string"
                                },
                                "name": {
                                  "type": "string"
                                },
                                "phone": {
                                  "type": "string"
                                },
                                "avatar": {
                                  "type": "string"
                                }
                              }
                            },
                            "agreedPrice": {
                              "type": "number",
                              "example": 180
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/technician/tracking/location": {
      "post": {
        "summary": "Update technician location",
        "description": "Technician updates their GPS location (called every 5-10 seconds)",
        "tags": [
          "Tracking"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "latitude",
                  "longitude"
                ],
                "properties": {
                  "latitude": {
                    "type": "number",
                    "example": 24.7136
                  },
                  "longitude": {
                    "type": "number",
                    "example": 46.6753
                  },
                  "heading": {
                    "type": "number",
                    "description": "Direction in degrees  (0-360)",
                    "example": 180
                  },
                  "speed": {
                    "type": "number",
                    "description": "Speed in km/h",
                    "example": 45.5
                  },
                  "accuracy": {
                    "type": "number",
                    "description": "GPS accuracy in meters",
                    "example": 10
                  },
                  "bookingId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "Current job booking ID (if on active job)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Location updated successfully"
          }
        }
      }
    },
    "/api/users/profile": {
      "get": {
        "summary": "Get current user profile",
        "description": "Get authenticated user's profile information\n\nالحصول على معلومات الملف الشخصي للمستخدم\n",
        "tags": [
          "Users"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Profile retrieved - تم استرجاع الملف الشخصي"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      },
      "put": {
        "summary": "Update user profile",
        "description": "Update current user's profile information\n\nتحديث معلومات الملف الشخصي\n",
        "tags": [
          "Users"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "firstName": {
                    "type": "string",
                    "example": "Ahmed"
                  },
                  "lastName": {
                    "type": "string",
                    "example": "Al-Mutairi"
                  },
                  "bio": {
                    "type": "string",
                    "example": "Professional car technician"
                  },
                  "bioAr": {
                    "type": "string",
                    "example": "فني سيارات محترف"
                  },
                  "avatar": {
                    "type": "string",
                    "example": "https://example.com/avatar.jpg"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Profile updated - تم تحديث الملف الشخصي"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/users/technician-profile": {
      "put": {
        "summary": "Update technician profile",
        "description": "Update technician-specific profile fields\n\nتحديث بيانات الفني\n",
        "tags": [
          "Users"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "licenseNumber": {
                    "type": "string"
                  },
                  "yearsExperience": {
                    "type": "integer"
                  },
                  "specializations": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "isAvailable": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Technician profile updated"
          },
          "403": {
            "description": "User is not a technician"
          }
        }
      }
    },
    "/api/users/supplier-profile": {
      "put": {
        "summary": "Update supplier profile",
        "description": "Update supplier-specific profile fields\n\nتحديث بيانات المورد\n",
        "tags": [
          "Users"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "businessName": {
                    "type": "string"
                  },
                  "businessNameAr": {
                    "type": "string"
                  },
                  "businessLicense": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Supplier profile updated"
          }
        }
      }
    },
    "/api/users/language": {
      "put": {
        "summary": "Update language preference",
        "description": "Update user's preferred language\n\nتحديث اللغة المفضلة\n",
        "tags": [
          "Users"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "language"
                ],
                "properties": {
                  "language": {
                    "type": "string",
                    "enum": [
                      "AR",
                      "EN"
                    ],
                    "example": "AR"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Language updated"
          }
        }
      }
    },
    "/api/users": {
      "get": {
        "summary": "Get all users (Admin only)",
        "description": "Get paginated list of all users with filters\n\nالحصول على قائمة المستخدمين (للمشرف فقط)\n",
        "tags": [
          "Users"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "role",
            "schema": {
              "type": "string",
              "enum": [
                "CUSTOMER",
                "TECHNICIAN",
                "SUPPLIER",
                "ADMIN"
              ]
            }
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            }
          },
          {
            "$ref": "#/components/parameters/PageParam"
          },
          {
            "$ref": "#/components/parameters/LimitParam"
          }
        ],
        "responses": {
          "200": {
            "description": "Users list retrieved"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          }
        }
      },
      "post": {
        "summary": "Create user (Admin only) - e.g. vendor account",
        "tags": [
          "Users"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email",
                  "password",
                  "firstName",
                  "lastName",
                  "role"
                ],
                "properties": {
                  "email": {
                    "type": "string"
                  },
                  "password": {
                    "type": "string"
                  },
                  "firstName": {
                    "type": "string"
                  },
                  "lastName": {
                    "type": "string"
                  },
                  "role": {
                    "type": "string",
                    "enum": [
                      "CUSTOMER",
                      "TECHNICIAN",
                      "SUPPLIER",
                      "VENDOR",
                      "ADMIN"
                    ]
                  },
                  "phone": {
                    "type": "string"
                  },
                  "preferredLanguage": {
                    "type": "string",
                    "enum": [
                      "AR",
                      "EN"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "User created"
          },
          "400": {
            "description": "Validation error"
          },
          "409": {
            "description": "Email or phone already registered"
          }
        }
      }
    },
    "/api/users/{id}": {
      "get": {
        "summary": "Get user by ID (Admin only)",
        "tags": [
          "Users"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "User retrieved"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          }
        }
      },
      "put": {
        "summary": "Update user (Admin only)",
        "tags": [
          "Users"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "firstName": {
                    "type": "string"
                  },
                  "lastName": {
                    "type": "string"
                  },
                  "bio": {
                    "type": "string"
                  },
                  "bioAr": {
                    "type": "string"
                  },
                  "avatar": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User updated"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          }
        }
      },
      "delete": {
        "summary": "Delete user (Admin only)",
        "tags": [
          "Users"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "User deleted"
          }
        }
      }
    },
    "/api/users/{id}/status": {
      "patch": {
        "summary": "Update user status (Admin only)",
        "tags": [
          "Users"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "status"
                ],
                "properties": {
                  "status": {
                    "type": "string",
                    "enum": [
                      "ACTIVE",
                      "PENDING_VERIFICATION",
                      "SUSPENDED",
                      "BANNED"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Status updated"
          }
        }
      }
    },
    "/api/vehicles/brands": {
      "get": {
        "summary": "Get vehicle brands catalog",
        "description": "Get available vehicle brands (Toyota, BMW, Mercedes, etc.)\n\nالحصول على العلامات التجارية للمركبات المتاحة\n",
        "tags": [
          "Vehicles"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Vehicle brands list"
          }
        }
      }
    },
    "/api/vehicles/brands/{brandId}/models": {
      "get": {
        "summary": "Get vehicle models for a brand",
        "description": "Get all available models for a specific brand\n\nالحصول على موديلات مركبة محددة\n",
        "tags": [
          "Vehicles"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "brandId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Brand ID"
          },
          {
            "in": "query",
            "name": "year",
            "schema": {
              "type": "integer"
            },
            "description": "Filter by year"
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string",
              "enum": [
                "SEDAN",
                "HATCHBACK",
                "COUPE",
                "SMALL_SUV",
                "LARGE_SEDAN",
                "SUV",
                "CROSSOVER",
                "TRUCK",
                "VAN",
                "BUS"
              ]
            },
            "description": "Filter by vehicle type"
          }
        ],
        "responses": {
          "200": {
            "description": "Vehicle models list"
          }
        }
      }
    },
    "/api/vehicles": {
      "get": {
        "summary": "Get my vehicles",
        "description": "Get all vehicles registered to current user\n\nالحصول على جميع مركبات المستخدم\n",
        "tags": [
          "Vehicles"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Vehicles list retrieved"
          }
        }
      },
      "post": {
        "summary": "Add new vehicle",
        "description": "Register a new vehicle to current user\n\nإضافة مركبة جديدة\n",
        "tags": [
          "Vehicles"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "vehicleModelId"
                ],
                "properties": {
                  "vehicleModelId": {
                    "type": "string",
                    "description": "Vehicle model ID from catalog"
                  },
                  "plateLettersAr": {
                    "type": "string",
                    "example": "ع س س",
                    "description": "Arabic letters on plate (optional)"
                  },
                  "plateLettersEn": {
                    "type": "string",
                    "example": "SEJ",
                    "description": "English letters on plate (optional)"
                  },
                  "plateDigits": {
                    "type": "string",
                    "example": "7415",
                    "description": "Plate number digits (required if plateNumber not provided)"
                  },
                  "plateRegion": {
                    "type": "string",
                    "example": "K",
                    "description": "Region code (optional)"
                  },
                  "plateNumber": {
                    "type": "string",
                    "example": "ع س س 7415",
                    "description": "Full plate number (alternative to structured fields)"
                  },
                  "color": {
                    "type": "string",
                    "example": "White"
                  },
                  "isDefault": {
                    "type": "boolean",
                    "default": false,
                    "description": "Set as default vehicle"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Vehicle added successfully"
          },
          "409": {
            "description": "Plate number already registered"
          }
        }
      }
    },
    "/api/vehicles/{id}": {
      "get": {
        "summary": "Get vehicle by ID",
        "tags": [
          "Vehicles"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Vehicle retrieved"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          }
        }
      },
      "put": {
        "summary": "Update vehicle",
        "description": "Update vehicle information\n\nتحديث معلومات المركبة\n",
        "tags": [
          "Vehicles"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "plateNumber": {
                    "type": "string"
                  },
                  "color": {
                    "type": "string"
                  },
                  "isDefault": {
                    "type": "boolean",
                    "description": "Set as default/primary vehicle"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Vehicle updated"
          }
        }
      },
      "delete": {
        "summary": "Delete vehicle",
        "description": "Remove vehicle from user account\n\nحذف المركبة\n",
        "tags": [
          "Vehicles"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Vehicle deleted"
          }
        }
      }
    },
    "/api/vehicles/{id}/primary": {
      "patch": {
        "summary": "Set as primary vehicle",
        "description": "Set this vehicle as the primary vehicle for bookings\n\nتعيين كمركبة رئيسية\n",
        "tags": [
          "Vehicles"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Primary vehicle updated"
          }
        }
      }
    },
    "/api/vendors": {
      "get": {
        "summary": "Get all vendors (Admin only)",
        "tags": [
          "Marketplace Vendors"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string"
            },
            "description": "Filter by vendor status"
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            },
            "description": "Search by business name"
          },
          {
            "$ref": "#/components/parameters/PageParam"
          },
          {
            "$ref": "#/components/parameters/LimitParam"
          }
        ],
        "responses": {
          "200": {
            "description": "List of vendors",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/VendorProfile"
                      }
                    },
                    "pagination": {
                      "$ref": "#/components/schemas/Pagination"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create new vendor profile",
        "tags": [
          "Marketplace Vendors"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "businessName",
                  "contactPhone"
                ],
                "properties": {
                  "userId": {
                    "type": "string",
                    "description": "User ID (Required for Admin, ignored for self-registration)"
                  },
                  "businessName": {
                    "type": "string"
                  },
                  "businessNameAr": {
                    "type": "string"
                  },
                  "contactEmail": {
                    "type": "string"
                  },
                  "contactPhone": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Vendor created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Success"
                }
              }
            }
          }
        }
      }
    },
    "/api/vendors/profile/me": {
      "get": {
        "summary": "Get current user's vendor profile",
        "tags": [
          "Marketplace Vendors"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Current vendor profile",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "$ref": "#/components/schemas/VendorProfile"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/vendors/profile/me/comprehensive-care-bookings": {
      "get": {
        "summary": "Get comprehensive care service bookings for current vendor",
        "tags": [
          "Marketplace Vendors"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of bookings"
          }
        }
      }
    },
    "/api/vendors/profile/me/coupons": {
      "get": {
        "summary": "Get all coupons for current vendor",
        "tags": [
          "Marketplace Vendors"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of vendor coupons"
          }
        }
      },
      "post": {
        "summary": "Create new coupon for current vendor",
        "tags": [
          "Marketplace Vendors"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "code",
                  "discountType",
                  "discountValue"
                ],
                "properties": {
                  "code": {
                    "type": "string"
                  },
                  "discountType": {
                    "type": "string",
                    "enum": [
                      "PERCENTAGE",
                      "FIXED"
                    ]
                  },
                  "discountValue": {
                    "type": "number"
                  },
                  "minOrderValue": {
                    "type": "number"
                  },
                  "startDate": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "endDate": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "usageLimit": {
                    "type": "integer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Coupon created"
          }
        }
      }
    },
    "/api/vendors/profile/me/coupons/{id}": {
      "patch": {
        "summary": "Update vendor coupon",
        "tags": [
          "Marketplace Vendors"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Coupon updated"
          }
        }
      },
      "delete": {
        "summary": "Delete vendor coupon",
        "tags": [
          "Marketplace Vendors"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Coupon deleted"
          }
        }
      }
    },
    "/api/vendors/{id}": {
      "get": {
        "summary": "Get vendor details by ID",
        "tags": [
          "Marketplace Vendors"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Vendor details",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "$ref": "#/components/schemas/VendorProfile"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update vendor profile",
        "tags": [
          "Marketplace Vendors"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "businessName": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Vendor updated"
          }
        }
      },
      "delete": {
        "summary": "Delete vendor (Admin only)",
        "tags": [
          "Marketplace Vendors"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Vendor deleted"
          }
        }
      }
    },
    "/api/vendors/{id}/stats": {
      "get": {
        "summary": "Get vendor statistics",
        "tags": [
          "Marketplace Vendors"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Vendor statistics"
          }
        }
      }
    },
    "/api/vendors/{id}/reviews": {
      "get": {
        "summary": "Get vendor reviews",
        "tags": [
          "Marketplace Vendors"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of vendor reviews"
          }
        }
      },
      "post": {
        "summary": "Submit a review for a vendor",
        "tags": [
          "Marketplace Vendors"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "rating",
                  "comment"
                ],
                "properties": {
                  "rating": {
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 5
                  },
                  "comment": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Review submitted"
          }
        }
      }
    },
    "/api/vendors/{id}/status": {
      "put": {
        "summary": "Update vendor status (Admin only)",
        "tags": [
          "Marketplace Vendors"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "status"
                ],
                "properties": {
                  "status": {
                    "type": "string",
                    "enum": [
                      "PENDING_APPROVAL",
                      "ACTIVE",
                      "SUSPENDED",
                      "REJECTED"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Status updated"
          }
        }
      }
    },
    "/api/wallets": {
      "get": {
        "summary": "Get my wallet details",
        "tags": [
          "Wallets"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Wallet and transactions details"
          }
        }
      }
    },
    "/api/workshops": {
      "get": {
        "summary": "Get all certified workshops",
        "description": "Retrieve a list of active and verified workshops with optional filtering",
        "tags": [
          "Certified Workshops"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "city",
            "schema": {
              "type": "string"
            },
            "description": "Filter by city name"
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            },
            "description": "Search in workshop name, city"
          },
          {
            "in": "query",
            "name": "isActive",
            "schema": {
              "type": "boolean",
              "default": true
            }
          },
          {
            "in": "query",
            "name": "isVerified",
            "schema": {
              "type": "boolean",
              "default": true
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of certified workshops retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "name": {
                            "type": "string"
                          },
                          "nameAr": {
                            "type": "string"
                          },
                          "city": {
                            "type": "string"
                          },
                          "averageRating": {
                            "type": "number"
                          },
                          "totalReviews": {
                            "type": "integer"
                          },
                          "isVerified": {
                            "type": "boolean"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/workshops/profile/me": {
      "post": {
        "summary": "Create my workshop (Vendor)",
        "description": "الفيندور (نوع ورشة معتمدة) يضيف ورشته بنفسه. الورشة تُنشأ غير معتمدة حتى يتحقق منها الأدمن.\n",
        "tags": [
          "Certified Workshops"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "city",
                  "address",
                  "phone",
                  "services"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "example": "Al-Salam Auto Center"
                  },
                  "nameAr": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "address": {
                    "type": "string"
                  },
                  "city": {
                    "type": "string"
                  },
                  "phone": {
                    "type": "string"
                  },
                  "email": {
                    "type": "string"
                  },
                  "locationUrl": {
                    "type": "string",
                    "description": "Google Maps URL to extract lat/lng"
                  },
                  "latitude": {
                    "type": "number"
                  },
                  "longitude": {
                    "type": "number"
                  },
                  "workingHours": {
                    "type": "object"
                  },
                  "services": {
                    "type": "string",
                    "description": "JSON array of service types"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Workshop created (pending admin verification)"
          },
          "400": {
            "description": "Already have a workshop or validation error"
          },
          "403": {
            "description": "Not a certified workshop vendor"
          }
        }
      },
      "get": {
        "summary": "Get my workshop profile",
        "tags": [
          "Certified Workshops"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Workshop profile retrieved"
          }
        }
      },
      "put": {
        "summary": "Update my workshop profile",
        "tags": [
          "Certified Workshops"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "nameAr": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "address": {
                    "type": "string"
                  },
                  "city": {
                    "type": "string"
                  },
                  "phone": {
                    "type": "string"
                  },
                  "workingHours": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Workshop profile updated"
          }
        }
      }
    },
    "/api/workshops/profile/me/bookings": {
      "get": {
        "summary": "Get my workshop bookings",
        "tags": [
          "Certified Workshops"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of workshop bookings"
          }
        }
      }
    },
    "/api/workshops/profile/me/logo": {
      "post": {
        "summary": "Upload my workshop logo",
        "tags": [
          "Certified Workshops"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Logo uploaded"
          }
        }
      },
      "delete": {
        "summary": "Delete my workshop logo",
        "tags": [
          "Certified Workshops"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Logo deleted"
          }
        }
      }
    },
    "/api/workshops/profile/me/images": {
      "post": {
        "summary": "Upload my workshop images",
        "tags": [
          "Certified Workshops"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "files": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "binary"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Images uploaded"
          }
        }
      }
    },
    "/api/workshops/profile/me/images/{imageIndex}": {
      "delete": {
        "summary": "Delete my workshop image",
        "tags": [
          "Certified Workshops"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "imageIndex",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Image deleted"
          }
        }
      }
    },
    "/api/workshops/{id}": {
      "get": {
        "summary": "Get workshop details by ID",
        "description": "Retrieve detailed information about a specific certified workshop",
        "tags": [
          "Certified Workshops"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Workshop ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Workshop details retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "name": {
                          "type": "string"
                        },
                        "nameAr": {
                          "type": "string"
                        },
                        "description": {
                          "type": "string"
                        },
                        "address": {
                          "type": "string"
                        },
                        "city": {
                          "type": "string"
                        },
                        "phone": {
                          "type": "string"
                        },
                        "workingHours": {
                          "type": "object"
                        },
                        "services": {
                          "type": "string"
                        },
                        "averageRating": {
                          "type": "number"
                        },
                        "totalReviews": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Workshop not found"
          }
        }
      }
    },
    "/api/workshops/admin/all": {
      "get": {
        "summary": "Get all workshops (Admin)",
        "description": "Retrieve all workshops without filtering (Admin only)",
        "tags": [
          "Certified Workshops - Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "city",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "isActive",
            "schema": {
              "type": "string",
              "enum": [
                true,
                false
              ]
            }
          },
          {
            "in": "query",
            "name": "isVerified",
            "schema": {
              "type": "string",
              "enum": [
                true,
                false
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "All workshops retrieved successfully"
          },
          "403": {
            "description": "Unauthorized - Admin access required"
          }
        }
      }
    },
    "/api/workshops/admin/workshops": {
      "post": {
        "summary": "Create new certified workshop (Admin)",
        "description": "Add a new certified workshop to the system",
        "tags": [
          "Certified Workshops - Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "city",
                  "address",
                  "phone",
                  "services"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "example": "Al-Salam Auto Center"
                  },
                  "nameAr": {
                    "type": "string",
                    "example": "مركز السلام للسيارات"
                  },
                  "description": {
                    "type": "string"
                  },
                  "descriptionAr": {
                    "type": "string"
                  },
                  "address": {
                    "type": "string",
                    "example": "King Fahd Road, Al-Olaya District"
                  },
                  "addressAr": {
                    "type": "string"
                  },
                  "city": {
                    "type": "string",
                    "example": "Riyadh"
                  },
                  "cityAr": {
                    "type": "string",
                    "example": "الرياض"
                  },
                  "locationUrl": {
                    "type": "string",
                    "description": "Google Maps URL (coordinates will be extracted automatically)",
                    "example": "https://maps.google.com/?q=24.7136,46.6753"
                  },
                  "latitude": {
                    "type": "number",
                    "description": "Optional if locationUrl is provided",
                    "example": 24.7136
                  },
                  "longitude": {
                    "type": "number",
                    "description": "Optional if locationUrl is provided",
                    "example": 46.6753
                  },
                  "phone": {
                    "type": "string",
                    "example": "+966112345001"
                  },
                  "email": {
                    "type": "string"
                  },
                  "workingHours": {
                    "type": "object",
                    "example": {
                      "sunday": {
                        "open": "08:00",
                        "close": "18:00"
                      }
                    }
                  },
                  "services": {
                    "type": "string",
                    "example": "[\"Engine Repair\", \"Brake Service\"]"
                  },
                  "logo": {
                    "type": "string"
                  },
                  "images": {
                    "type": "object"
                  },
                  "isActive": {
                    "type": "boolean",
                    "default": true
                  },
                  "isVerified": {
                    "type": "boolean",
                    "default": false
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Workshop created successfully"
          },
          "400": {
            "description": "Missing required fields"
          },
          "403": {
            "description": "Unauthorized - Admin access required"
          }
        }
      }
    },
    "/api/workshops/admin/workshops/{id}": {
      "put": {
        "summary": "Update workshop (Admin)",
        "description": "Update workshop information",
        "tags": [
          "Certified Workshops - Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "nameAr": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "city": {
                    "type": "string"
                  },
                  "phone": {
                    "type": "string"
                  },
                  "workingHours": {
                    "type": "object"
                  },
                  "services": {
                    "type": "string"
                  },
                  "isActive": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Workshop updated successfully"
          },
          "403": {
            "description": "Unauthorized - Admin access required"
          },
          "404": {
            "description": "Workshop not found"
          }
        }
      },
      "delete": {
        "summary": "Delete workshop (Admin)",
        "description": "Delete a certified workshop (only if no active bookings)",
        "tags": [
          "Certified Workshops - Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Workshop deleted successfully"
          },
          "400": {
            "description": "Cannot delete workshop with active bookings"
          },
          "403": {
            "description": "Unauthorized - Admin access required"
          },
          "404": {
            "description": "Workshop not found"
          }
        }
      }
    },
    "/api/workshops/admin/workshops/{id}/verify": {
      "patch": {
        "summary": "Verify/Unverify workshop (Admin)",
        "description": "Toggle workshop verification status",
        "tags": [
          "Certified Workshops - Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "isVerified"
                ],
                "properties": {
                  "isVerified": {
                    "type": "boolean",
                    "example": true
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Verification status updated successfully"
          },
          "403": {
            "description": "Unauthorized - Admin access required"
          },
          "404": {
            "description": "Workshop not found"
          }
        }
      }
    },
    "/api/workshops/{id}/reviews": {
      "post": {
        "summary": "Create a review for a workshop",
        "description": "Submit a review and rating for a workshop (requires completed booking for verified reviews)",
        "tags": [
          "Workshop Reviews"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Workshop ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "rating"
                ],
                "properties": {
                  "bookingId": {
                    "type": "string",
                    "description": "Booking ID (optional, makes review verified)"
                  },
                  "rating": {
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 5,
                    "example": 5
                  },
                  "comment": {
                    "type": "string",
                    "example": "Excellent service and professional staff"
                  },
                  "commentAr": {
                    "type": "string",
                    "example": "خدمة ممتازة وطاقم محترف"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Review created successfully"
          },
          "400": {
            "description": "Validation error or already reviewed"
          },
          "404": {
            "description": "Workshop or booking not found"
          }
        }
      },
      "get": {
        "summary": "Get workshop reviews",
        "description": "Retrieve all approved reviews for a workshop",
        "tags": [
          "Workshop Reviews"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            }
          },
          {
            "in": "query",
            "name": "rating",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 5
            }
          },
          {
            "in": "query",
            "name": "isVerified",
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Reviews retrieved successfully"
          }
        }
      }
    },
    "/api/workshops/{id}/reviews/stats": {
      "get": {
        "summary": "Get review statistics",
        "description": "Get rating distribution and statistics for a workshop",
        "tags": [
          "Workshop Reviews"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Statistics retrieved successfully"
          }
        }
      }
    },
    "/api/workshops/admin/{id}/reviews": {
      "get": {
        "summary": "Get workshop reviews (Admin)",
        "description": "Retrieve all reviews including unapproved ones",
        "tags": [
          "Workshop Reviews - Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            }
          },
          {
            "in": "query",
            "name": "isApproved",
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Reviews retrieved successfully"
          }
        }
      }
    },
    "/api/workshops/admin/reviews/{id}/approve": {
      "patch": {
        "summary": "Update review approval status",
        "description": "Approve or hide a review",
        "tags": [
          "Workshop Reviews - Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "isApproved"
                ],
                "properties": {
                  "isApproved": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Review approval status updated"
          }
        }
      }
    },
    "/api/workshops/admin/reviews/{id}/response": {
      "post": {
        "summary": "Add workshop response to review",
        "description": "Add an official response from the workshop to a review",
        "tags": [
          "Workshop Reviews - Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "response": {
                    "type": "string"
                  },
                  "responseAr": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Response added successfully"
          }
        }
      }
    },
    "/api/workshops/admin/reviews/{id}": {
      "delete": {
        "summary": "Delete a review",
        "description": "Permanently delete a review",
        "tags": [
          "Workshop Reviews - Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Review deleted successfully"
          }
        }
      }
    },
    "/api/workshops/{id}/logo": {
      "post": {
        "summary": "Upload workshop logo",
        "description": "Upload a logo image for a workshop (Admin only)",
        "tags": [
          "Workshop Images - Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Logo uploaded successfully"
          },
          "400": {
            "description": "Invalid file type or no file uploaded"
          }
        }
      },
      "delete": {
        "summary": "Delete workshop logo",
        "description": "Delete the workshop logo (Admin only)",
        "tags": [
          "Workshop Images - Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Logo deleted successfully"
          },
          "400": {
            "description": "Workshop has no logo"
          }
        }
      }
    },
    "/api/workshops/{id}/images": {
      "post": {
        "summary": "Upload workshop images",
        "description": "Upload multiple images for a workshop (max 10 total, Admin only)",
        "tags": [
          "Workshop Images - Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "files": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "binary"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Images uploaded successfully"
          },
          "400": {
            "description": "Invalid file type, no files, or limit exceeded"
          }
        }
      }
    },
    "/api/workshops/{id}/images/{imageIndex}": {
      "delete": {
        "summary": "Delete workshop image",
        "description": "Delete a specific image by index (Admin only)",
        "tags": [
          "Workshop Images - Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "imageIndex",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Image deleted successfully"
          },
          "400": {
            "description": "Invalid image index"
          }
        }
      }
    },
    "/api/admin/feedback": {
      "get": {
        "summary": "List all feedbacks (Admin)",
        "description": "Advanced filtering, search, and pagination for admin dashboard.",
        "tags": [
          "Admin Feedback"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "status"
          },
          {
            "in": "query",
            "name": "type"
          },
          {
            "in": "query",
            "name": "priority"
          },
          {
            "in": "query",
            "name": "search"
          }
        ],
        "responses": {
          "200": {
            "description": "Paginated feedbacks"
          }
        }
      }
    },
    "/api/admin/feedback/{id}/status": {
      "patch": {
        "summary": "Update feedback status",
        "description": "Change status (e.g. to RESOLVED). Includes automatic HandledBy assignment.",
        "tags": [
          "Admin Feedback"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Updated"
          }
        }
      }
    },
    "/api/admin/feedback/{id}/reply": {
      "post": {
        "summary": "Reply to a feedback",
        "description": "Post a reply to the customer's complaint or suggestion.",
        "tags": [
          "Admin Feedback"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "201": {
            "description": "Reply created"
          }
        }
      }
    },
    "/api/admin/feedback/{id}": {
      "delete": {
        "summary": "Soft delete feedback",
        "description": "Mark feedback as deleted without removing from database.",
        "tags": [
          "Admin Feedback"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Deleted"
          }
        }
      }
    },
    "/api/admin/finance/wallets": {
      "get": {
        "summary": "Get all wallets with pagination and search",
        "tags": [
          "Wallets"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "Page number"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "Items per page"
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            },
            "description": "Search by email, phone, or name"
          }
        ],
        "responses": {
          "200": {
            "description": "List of wallets",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "wallets": {
                          "type": "array",
                          "items": {
                            "type": "object"
                          }
                        },
                        "total": {
                          "type": "integer"
                        },
                        "pages": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/finance/wallet/credit": {
      "post": {
        "summary": "Credit a user's wallet",
        "tags": [
          "Wallets"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "userId",
                  "amount"
                ],
                "properties": {
                  "userId": {
                    "type": "string"
                  },
                  "amount": {
                    "type": "number"
                  },
                  "reason": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Wallet credited successfully"
          }
        }
      }
    },
    "/api/admin/finance/wallet/debit": {
      "post": {
        "summary": "Debit a user's wallet",
        "tags": [
          "Wallets"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "userId",
                  "amount"
                ],
                "properties": {
                  "userId": {
                    "type": "string"
                  },
                  "amount": {
                    "type": "number"
                  },
                  "reason": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Wallet debited successfully"
          }
        }
      }
    },
    "/api/admin/finance/wallet/{walletId}/transactions": {
      "get": {
        "summary": "Get wallet transactions history",
        "tags": [
          "Wallets"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "walletId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Wallet ID"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "Page number"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "Items per page"
          }
        ],
        "responses": {
          "200": {
            "description": "List of transactions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "transactions": {
                          "type": "array",
                          "items": {
                            "type": "object"
                          }
                        },
                        "total": {
                          "type": "integer"
                        },
                        "pages": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/finance/points/audit": {
      "get": {
        "summary": "Get points audit log",
        "tags": [
          "Wallets"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "userId",
            "schema": {
              "type": "string"
            },
            "description": "Filter by User ID"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "Page number"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 20
            },
            "description": "Items per page"
          }
        ],
        "responses": {
          "200": {
            "description": "Points audit log"
          }
        }
      }
    },
    "/api/admin/finance/points/adjust": {
      "post": {
        "summary": "Adjust user points (Credit/Debit)",
        "tags": [
          "Wallets"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "userId",
                  "amount"
                ],
                "properties": {
                  "userId": {
                    "type": "string"
                  },
                  "amount": {
                    "type": "integer",
                    "description": "Positive to add, negative to subtract"
                  },
                  "reason": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Points adjusted successfully"
          }
        }
      }
    },
    "/api/admin/finance/points/settings": {
      "get": {
        "summary": "Get points conversion rate settings",
        "tags": [
          "Wallets"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Points settings",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "points": {
                          "type": "number"
                        },
                        "currency": {
                          "type": "number"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Update points conversion rate settings",
        "tags": [
          "Wallets"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "points",
                  "currency"
                ],
                "properties": {
                  "points": {
                    "type": "number",
                    "description": "Number of points"
                  },
                  "currency": {
                    "type": "number",
                    "description": "Equivalent currency value"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Settings updated successfully"
          }
        }
      }
    },
    "/api/admin/settings": {
      "get": {
        "summary": "Get all system settings",
        "tags": [
          "Admin Settings"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Settings retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "array"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/settings/towing": {
      "get": {
        "summary": "Get towing service settings",
        "tags": [
          "Admin Settings"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Towing settings retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "key": {
                            "type": "string",
                            "example": "TOWING_SEARCH_RADIUS"
                          },
                          "value": {
                            "type": "string",
                            "example": "10"
                          },
                          "type": {
                            "type": "string",
                            "example": "NUMBER"
                          },
                          "description": {
                            "type": "string"
                          },
                          "descriptionAr": {
                            "type": "string"
                          },
                          "isEditable": {
                            "type": "boolean"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/settings/{key}": {
      "put": {
        "summary": "Update a system setting",
        "tags": [
          "Admin Settings"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "key",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "TOWING_SEARCH_RADIUS"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "value"
                ],
                "properties": {
                  "value": {
                    "type": "string",
                    "example": "15",
                    "description": "New value for the setting"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Setting updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "messageAr": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "key": {
                          "type": "string"
                        },
                        "value": {
                          "type": "string"
                        },
                        "updatedAt": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/vendor-onboarding/register": {
      "post": {
        "summary": "Register a new vendor (Public)",
        "tags": [
          "Vendor Onboarding"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "legalName",
                  "supplierType",
                  "country",
                  "city",
                  "addressLine1",
                  "nationalAddress",
                  "postalCode",
                  "commercialRegNo",
                  "companyEmail",
                  "companyPhone",
                  "contactPersonName",
                  "contactPersonTitle",
                  "contactPersonMobile",
                  "mainService",
                  "servicesOffered",
                  "coverageRegion",
                  "operatingModel",
                  "coverageCities",
                  "payoutMethod"
                ],
                "properties": {
                  "legalName": {
                    "type": "string",
                    "example": "Al-Futtaim Motors"
                  },
                  "tradeName": {
                    "type": "string",
                    "example": "Toyota Saudi"
                  },
                  "supplierType": {
                    "type": "string",
                    "example": "CORPORATE"
                  },
                  "country": {
                    "type": "string",
                    "example": "Saudi Arabia"
                  },
                  "city": {
                    "type": "string",
                    "example": "Riyadh"
                  },
                  "addressLine1": {
                    "type": "string",
                    "example": "King Fahd Branch Rd, Al Murabbah"
                  },
                  "nationalAddress": {
                    "type": "string",
                    "example": "1234-5678-9012"
                  },
                  "postalCode": {
                    "type": "string",
                    "example": "12613"
                  },
                  "commercialRegNo": {
                    "type": "string",
                    "example": "1010123456"
                  },
                  "vatRegistered": {
                    "type": "boolean",
                    "example": true
                  },
                  "vatNumber": {
                    "type": "string",
                    "example": "310123456700003"
                  },
                  "eInvoicingCapable": {
                    "type": "boolean",
                    "example": true
                  },
                  "website": {
                    "type": "string",
                    "example": "https://toyota.com.sa"
                  },
                  "companyEmail": {
                    "type": "string",
                    "example": "info@toyota.sa"
                  },
                  "companyPhone": {
                    "type": "string",
                    "example": "+966112345678"
                  },
                  "contactPersonName": {
                    "type": "string",
                    "example": "Ahmad Mohammed"
                  },
                  "contactPersonTitle": {
                    "type": "string",
                    "example": "Operations Manager"
                  },
                  "contactPersonMobile": {
                    "type": "string",
                    "example": "+966501234567"
                  },
                  "mainService": {
                    "type": "string",
                    "example": "Mechanical Repair"
                  },
                  "subService": {
                    "type": "string",
                    "example": "Engine Tuning"
                  },
                  "servicesOffered": {
                    "type": "string",
                    "example": "Full engine diagnostic and repair services."
                  },
                  "coverageRegion": {
                    "type": "string",
                    "example": "Central Region"
                  },
                  "operatingModel": {
                    "type": "string",
                    "enum": [
                      "MARKETPLACE"
                    ],
                    "example": "MARKETPLACE"
                  },
                  "support24_7": {
                    "type": "boolean",
                    "example": true
                  },
                  "emergencyResponse": {
                    "type": "boolean",
                    "example": true
                  },
                  "coverageCities": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "example": [
                      "Riyadh",
                      "Jeddah"
                    ]
                  },
                  "yearsOfExperience": {
                    "type": "integer",
                    "example": 15
                  },
                  "employeesBand": {
                    "type": "string",
                    "example": "50-100"
                  },
                  "monthlyCapacityBand": {
                    "type": "string",
                    "example": "500+ vehicles"
                  },
                  "fleetCount": {
                    "type": "integer",
                    "example": 10
                  },
                  "paymentTerms": {
                    "type": "string",
                    "example": "Net 30"
                  },
                  "currency": {
                    "type": "string",
                    "example": "SAR"
                  },
                  "priceListProvided": {
                    "type": "boolean",
                    "example": true
                  },
                  "discountPercent": {
                    "type": "number",
                    "example": 10.5
                  },
                  "payoutMethod": {
                    "type": "string",
                    "example": "BANK_TRANSFER"
                  },
                  "bankName": {
                    "type": "string",
                    "example": "Al Rajhi Bank"
                  },
                  "iban": {
                    "type": "string",
                    "example": "SA1234567890123456789012"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Application submitted"
          },
          "400": {
            "$ref": "#/components/responses/ValidationError"
          },
          "409": {
            "description": "CR number or Email already exists"
          }
        }
      }
    },
    "/api/vendor-onboarding/admin/list": {
      "get": {
        "summary": "List all vendor applications (Admin)",
        "tags": [
          "Vendor Onboarding"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "PENDING",
                "APPROVED",
                "REJECTED",
                "SUSPENDED"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of vendor applications"
          }
        }
      }
    },
    "/api/vendor-onboarding/admin/{id}/status": {
      "patch": {
        "summary": "Update vendor application status (Admin)",
        "tags": [
          "Vendor Onboarding"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "status"
                ],
                "properties": {
                  "status": {
                    "type": "string",
                    "enum": [
                      "APPROVED",
                      "REJECTED",
                      "SUSPENDED"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Status updated"
          }
        }
      }
    }
  }
}